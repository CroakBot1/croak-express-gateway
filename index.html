<script>
<!-- code by https://www.html-code-generator.com -->
document.write(unescape('%0A%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%3Chead%3E%0A%3Cmeta%20charset%3D%22UTF-8%22%20/%3E%0A%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22/%3E%0A%3Ctitle%3EServer-Based%20UUID%20Login%3C/title%3E%0A%3Cstyle%3E%0Abody%20%7B%20font-family%3A%20Arial%2C%20sans-serif%3B%20background%3A%20%23f4f4f4%3B%20padding%3A%2020px%3B%20%7D%0A%0A%23loginOverlay%7B%0A%20%20position%3A%20fixed%3B%0A%20%20top%3A%200%3B%20left%3A%200%3B%20right%3A%200%3B%20bottom%3A%200%3B%0A%20%20background%3A%20%23000000%3B%20/*%20pure%20vantablack%20*/%0A%20%20display%3A%20flex%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20align-items%3A%20center%3B%0A%20%20flex-direction%3A%20column%3B%0A%20%20color%3A%20white%3B%0A%20%20font-family%3A%20Arial%2C%20sans-serif%3B%0A%20%20z-index%3A%209999%3B%0A%7D%0A%0Ainput%20%7B%20padding%3A%2010px%3B%20font-size%3A%2016px%3B%20margin-top%3A%2010px%3B%20%7D%0Abutton%20%7B%20padding%3A%2010px%2020px%3B%20margin-top%3A%2010px%3B%20font-size%3A%2016px%3B%20%7D%0A%23warningMessage%20%7B%20color%3A%20red%3B%20margin-top%3A%2010px%3B%20%7D%0A%23countdown%20%7B%20margin-top%3A%2010px%3B%20color%3A%20yellow%3B%20%7D%0A%23content%20%7B%20display%3A%20none%3B%20padding%3A%2020px%3B%20%7D%0A%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%0A%3Cdiv%20id%3D%22loginOverlay%22%3E%0A%20%20%3Ch2%3EEnter%20Your%20UUID%3C/h2%3E%0A%20%20%3Cinput%20type%3D%22text%22%20id%3D%22uuidInput%22%20placeholder%3D%22UUID%20here%22%3E%0A%20%20%3Cbutton%20id%3D%22loginBtn%22%3ELogin%3C/button%3E%0A%20%20%3Cdiv%20id%3D%22warningMessage%22%3E%3C/div%3E%0A%20%20%3Cdiv%20id%3D%22countdown%22%3E%3C/div%3E%0A%3C/div%3E%0A%0A%3Cdiv%20id%3D%22content%22%3E%0A%20%20%3Ch1%3EWelcome%21%3C/h1%3E%0A%20%20%3Cdiv%20id%3D%22protectedData%22%3E%3C/div%3E%0A%3C/div%3E%0A%0A%3Cscript%3E%0Aconst%20API_URL%20%3D%20%22https%3A//server-validation-expiry.onrender.com%22%3B%20//%20Live%20server%20URL%0A%0Aconst%20loginOverlay%20%3D%20document.getElementById%28%22loginOverlay%22%29%3B%0Aconst%20warningMessage%20%3D%20document.getElementById%28%22warningMessage%22%29%3B%0Aconst%20countdownDiv%20%3D%20document.getElementById%28%22countdown%22%29%3B%0Aconst%20contentDiv%20%3D%20document.getElementById%28%22content%22%29%3B%0Alet%20countdownInterval%3B%0Alet%20uuid%3B%0Alet%20firstLoginTime%3B%0A%0A//%20Countdown%20timer%0Afunction%20startCountdown%28firstLogin%29%7B%0A%20%20firstLoginTime%20%3D%20firstLogin%3B%0A%20%20const%20oneMonth%20%3D%2030*24*60*60*1000%3B%0A%20%20clearInterval%28countdownInterval%29%3B%0A%20%20countdownInterval%20%3D%20setInterval%28%28%29%3D%3E%7B%0A%20%20%20%20const%20remaining%20%3D%20oneMonth%20-%20%28Date.now%28%29%20-%20firstLoginTime%29%3B%0A%20%20%20%20if%28remaining%20%3C%3D%200%29%7B%0A%20%20%20%20%20%20countdownDiv.textContent%20%3D%20%22%u23F0%20Your%20access%20has%20expired%21%22%3B%0A%20%20%20%20%20%20clearInterval%28countdownInterval%29%3B%0A%20%20%20%20%20%20loginOverlay.style.display%3D%22flex%22%3B%0A%20%20%20%20%20%20contentDiv.style.display%3D%22none%22%3B%0A%20%20%20%20%20%20warningMessage.textContent%3D%22%u274C%20UUID%20expired.%20Please%20login%20again.%22%3B%0A%20%20%20%20%20%20uuid%20%3D%20null%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20const%20days%20%3D%20Math.floor%28remaining/%281000*60*60*24%29%29%3B%0A%20%20%20%20const%20hours%20%3D%20Math.floor%28%28remaining%25%281000*60*60*24%29%29/%281000*60*60%29%29%3B%0A%20%20%20%20const%20minutes%20%3D%20Math.floor%28%28remaining%25%281000*60*60%29%29/%281000*60%29%29%3B%0A%20%20%20%20const%20seconds%20%3D%20Math.floor%28%28remaining%25%281000*60%29%29/1000%29%3B%0A%20%20%20%20countdownDiv.textContent%20%3D%20%60%u23F3%20Access%20expires%20in%20%24%7Bdays%7Dd%20%24%7Bhours%7Dh%20%24%7Bminutes%7Dm%20%24%7Bseconds%7Ds%60%3B%0A%20%20%7D%2C1000%29%3B%0A%7D%0A%0A//%20Fetch%20protected%20data%0Aasync%20function%20fetchProtectedData%28%29%7B%0A%20%20if%28%21uuid%29%20return%3B%0A%20%20try%7B%0A%20%20%20%20const%20res%20%3D%20await%20fetch%28%60%24%7BAPI_URL%7D/secret-data%60%2C%20%7B%0A%20%20%20%20%20%20headers%3A%20%7B%20%22x-uuid%22%3A%20uuid%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20if%28data.data%29%20document.getElementById%28%22protectedData%22%29.textContent%20%3D%20data.data%3B%0A%20%20%7Dcatch%28err%29%7B%0A%20%20%20%20document.getElementById%28%22protectedData%22%29.textContent%20%3D%20%22%u274C%20Failed%20to%20fetch%20protected%20content.%22%3B%0A%20%20%20%20console.error%28err%29%3B%0A%20%20%7D%0A%7D%0A%0A//%20Validate%20UUID%0Aasync%20function%20validateUUID%28%29%7B%0A%20%20uuid%20%3D%20document.getElementById%28%22uuidInput%22%29.value.trim%28%29%3B%0A%20%20if%28%21uuid.match%28/%5E%5B0-9a-fA-F-%5D%7B36%7D%24/%29%29%7B%0A%20%20%20%20warningMessage.textContent%3D%22%u274C%20Invalid%20UUID%20format%21%22%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20try%7B%0A%20%20%20%20const%20res%20%3D%20await%20fetch%28%60%24%7BAPI_URL%7D/validate-uuid%60%2C%20%7B%0A%20%20%20%20%20%20method%3A%20%22POST%22%2C%0A%20%20%20%20%20%20headers%3A%20%7B%22Content-Type%22%3A%22application/json%22%7D%2C%0A%20%20%20%20%20%20body%3A%20JSON.stringify%28%7Buuid%7D%29%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20const%20data%20%3D%20await%20res.json%28%29%3B%0A%20%20%20%20if%28data.valid%29%7B%0A%20%20%20%20%20%20loginOverlay.style.display%3D%22none%22%3B%0A%20%20%20%20%20%20contentDiv.style.display%3D%22block%22%3B%0A%20%20%20%20%20%20warningMessage.textContent%3D%22%22%3B%0A%20%20%20%20%20%20startCountdown%28data.firstLogin%29%3B%0A%20%20%20%20%20%20fetchProtectedData%28%29%3B%0A%20%20%20%20%7Delse%7B%0A%20%20%20%20%20%20warningMessage.textContent%3D%22%u274C%20%22%20+%20data.message%3B%0A%20%20%20%20%20%20uuid%20%3D%20null%3B%0A%20%20%20%20%7D%0A%20%20%7Dcatch%28err%29%7B%0A%20%20%20%20warningMessage.textContent%3D%22%u274C%20Server%20error.%20Try%20again%20later.%22%3B%0A%20%20%20%20console.error%28err%29%3B%0A%20%20%20%20uuid%20%3D%20null%3B%0A%20%20%7D%0A%7D%0A%0Adocument.getElementById%28%22loginBtn%22%29.onclick%20%3D%20validateUUID%3B%0Adocument.getElementById%28%22uuidInput%22%29.addEventListener%28%22keypress%22%2C%20e%20%3D%3E%20%7B%0A%20%20if%28e.key%20%3D%3D%3D%20%22Enter%22%29%20validateUUID%28%29%3B%0A%7D%29%3B%0A%3C/script%3E%0A%0A%3C/body%3E%0A%3C/html%3E%0A%0A%3C%21DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%20%20%3Ctitle%3E%uD83D%uDCE1%20ETHUSDT%201m%20WebSocket%20+%20Smart%20Indicators%3C/title%3E%0A%20%20%3Cstyle%3E%0A%20%20%20%20body%20%7B%0A%20%20%20%20%20%20background%3A%20%23000%3B%0A%20%20%20%20%20%20color%3A%20%230f0%3B%0A%20%20%20%20%20%20font-family%3A%20monospace%3B%0A%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%20%20display%3A%20grid%3B%0A%20%20%20%20%20%20grid-template-columns%3A%201fr%201fr%3B%0A%20%20%20%20%20%20gap%3A%2020px%3B%0A%20%20%20%20%7D%0A%20%20%20%20h2%20%7B%20grid-column%3A%20span%202%3B%20margin-bottom%3A%2010px%3B%20%7D%0A%20%20%20%20pre%20%7B%0A%20%20%20%20%20%20white-space%3A%20pre-wrap%3B%0A%20%20%20%20%20%20word-break%3A%20break-word%3B%0A%20%20%20%20%20%20max-height%3A%2085vh%3B%0A%20%20%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20%20%20background%3A%20%23111%3B%0A%20%20%20%20%20%20padding%3A%2015px%3B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%230f0%3B%0A%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%7D%0A%20%20%20%20.indicators%20%7B%0A%20%20%20%20%20%20background%3A%20%23111%3B%0A%20%20%20%20%20%20padding%3A%2015px%3B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%230f0%3B%0A%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20line-height%3A%201.5%3B%0A%20%20%20%20%7D%0A%20%20%20%20.indicators%20h3%20%7B%0A%20%20%20%20%20%20color%3A%20%2300ffff%3B%0A%20%20%20%20%20%20margin-bottom%3A%205px%3B%0A%20%20%20%20%7D%0A%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%3Ch2%3E%uD83D%uDCE1%20Live%20ETHUSDT%201m%20TF%20WebSocket%20+%20Smart%20Indicator%20Panel%3C/h2%3E%0A%20%20%3Cpre%20id%3D%22output%22%3EConnecting...%3C/pre%3E%0A%20%20%3Cdiv%20class%3D%22indicators%22%20id%3D%22indicatorPanel%22%3ELoading%20indicators...%3C/div%3E%0A%0A%20%20%3Cscript%3E%0A%20%20%20%20const%20output%20%3D%20document.getElementById%28%22output%22%29%3B%0A%20%20%20%20const%20panel%20%3D%20document.getElementById%28%22indicatorPanel%22%29%3B%0A%20%20%20%20const%20socket%20%3D%20new%20WebSocket%28%22wss%3A//stream.bybit.com/v5/public/linear%22%29%3B%0A%0A%20%20%20%20let%20candles%20%3D%20%5B%5D%3B%0A%20%20%20%20let%20lastCandleStart%20%3D%20null%3B%0A%20%20%20%20let%20lastClose%20%3D%20null%3B%0A%20%20%20%20let%20candleCount%20%3D%200%3B%0A%20%20%20%20let%20recentStochK%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20function%20safe%28val%29%20%7B%0A%20%20%20%20%20%20return%20val%20%3D%3D%3D%20null%20%7C%7C%20val%20%3D%3D%3D%20undefined%20%7C%7C%20isNaN%28val%29%20%3F%20%22%u23F3%22%20%3A%20val%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20colorize%28val%2C%20bullish%20%3D%20true%29%20%7B%0A%20%20%20%20%20%20if%20%28val%20%3D%3D%3D%20null%20%7C%7C%20val%20%3D%3D%3D%20%22%u23F3%22%29%20return%20%60%3Cspan%20style%3D%22color%3Agray%22%3E%u23F3%3C/span%3E%60%3B%0A%20%20%20%20%20%20const%20num%20%3D%20parseFloat%28val%29%3B%0A%20%20%20%20%20%20if%20%28bullish%20%26%26%20num%20%3E%200%29%20return%20%60%3Cspan%20style%3D%22color%3Alime%22%3E%24%7Bval%7D%3C/span%3E%60%3B%0A%20%20%20%20%20%20if%20%28%21bullish%20%26%26%20num%20%3C%200%29%20return%20%60%3Cspan%20style%3D%22color%3Ared%22%3E%24%7Bval%7D%3C/span%3E%60%3B%0A%20%20%20%20%20%20return%20%60%3Cspan%20style%3D%22color%3Ayellow%22%3E%24%7Bval%7D%3C/span%3E%60%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20SMA%28period%2C%20data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%20period%29%20return%20null%3B%0A%20%20%20%20%20%20const%20sum%20%3D%20data.slice%28-period%29.reduce%28%28acc%2C%20d%29%20%3D%3E%20acc%20+%20%28d.close%20%7C%7C%20d%29%2C%200%29%3B%0A%20%20%20%20%20%20return%20%28sum%20/%20period%29.toFixed%282%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20EMA%28period%2C%20data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%20period%29%20return%20null%3B%0A%20%20%20%20%20%20const%20k%20%3D%202%20/%20%28period%20+%201%29%3B%0A%20%20%20%20%20%20let%20ema%20%3D%20data.slice%280%2C%20period%29.reduce%28%28acc%2C%20d%29%20%3D%3E%20acc%20+%20d.close%2C%200%29%20/%20period%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%20period%3B%20i%20%3C%20data.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20ema%20%3D%20data%5Bi%5D.close%20*%20k%20+%20ema%20*%20%281%20-%20k%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20ema.toFixed%282%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20EMAArray%28period%2C%20data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%20period%29%20return%20null%3B%0A%20%20%20%20%20%20const%20k%20%3D%202%20/%20%28period%20+%201%29%3B%0A%20%20%20%20%20%20let%20result%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20let%20ema%20%3D%20data.slice%280%2C%20period%29.reduce%28%28acc%2C%20d%29%20%3D%3E%20acc%20+%20d.close%2C%200%29%20/%20period%3B%0A%20%20%20%20%20%20result.push%28ema%29%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%20period%3B%20i%20%3C%20data.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20ema%20%3D%20data%5Bi%5D.close%20*%20k%20+%20ema%20*%20%281%20-%20k%29%3B%0A%20%20%20%20%20%20%20%20result.push%28ema%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20EMAFromArray%28period%2C%20arr%29%20%7B%0A%20%20%20%20%20%20if%20%28arr.length%20%3C%20period%29%20return%20%5B%5D%3B%0A%20%20%20%20%20%20const%20k%20%3D%202%20/%20%28period%20+%201%29%3B%0A%20%20%20%20%20%20let%20result%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20let%20ema%20%3D%20arr.slice%280%2C%20period%29.reduce%28%28acc%2C%20val%29%20%3D%3E%20acc%20+%20val%2C%200%29%20/%20period%3B%0A%20%20%20%20%20%20result.push%28ema%29%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%20period%3B%20i%20%3C%20arr.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20ema%20%3D%20arr%5Bi%5D%20*%20k%20+%20ema%20*%20%281%20-%20k%29%3B%0A%20%20%20%20%20%20%20%20result.push%28ema%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20MACD%28data%29%20%7B%0A%20%20%20%20%20%20const%20ema12%20%3D%20EMAArray%2812%2C%20data%29%3B%0A%20%20%20%20%20%20const%20ema26%20%3D%20EMAArray%2826%2C%20data%29%3B%0A%20%20%20%20%20%20if%20%28%21ema12%20%7C%7C%20%21ema26%20%7C%7C%20ema12.length%20%21%3D%3D%20ema26.length%29%20return%20%5Bnull%2C%20null%2C%20null%5D%3B%0A%20%20%20%20%20%20const%20macdLine%20%3D%20ema12.map%28%28val%2C%20i%29%20%3D%3E%20val%20-%20ema26%5Bi%5D%29%3B%0A%20%20%20%20%20%20const%20signalLine%20%3D%20EMAFromArray%289%2C%20macdLine%29%3B%0A%20%20%20%20%20%20const%20histogram%20%3D%20macdLine.map%28%28val%2C%20i%29%20%3D%3E%20val%20-%20%28signalLine%5Bi%5D%20%7C%7C%200%29%29%3B%0A%20%20%20%20%20%20const%20latest%20%3D%20macdLine.length%20-%201%3B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20macdLine%5Blatest%5D.toFixed%282%29%2C%0A%20%20%20%20%20%20%20%20signalLine%5Blatest%5D.toFixed%282%29%2C%0A%20%20%20%20%20%20%20%20histogram%5Blatest%5D.toFixed%282%29%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20RSI%28period%2C%20data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%20period%20+%201%29%20return%20null%3B%0A%20%20%20%20%20%20let%20gains%20%3D%200%2C%20losses%20%3D%200%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%20data.length%20-%20period%3B%20i%20%3C%20data.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20const%20diff%20%3D%20data%5Bi%5D.close%20-%20data%5Bi%20-%201%5D.close%3B%0A%20%20%20%20%20%20%20%20if%20%28diff%20%3E%3D%200%29%20gains%20+%3D%20diff%3B%0A%20%20%20%20%20%20%20%20else%20losses%20-%3D%20diff%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20avgGain%20%3D%20gains%20/%20period%3B%0A%20%20%20%20%20%20const%20avgLoss%20%3D%20losses%20/%20period%3B%0A%20%20%20%20%20%20if%20%28avgLoss%20%3D%3D%3D%200%29%20return%20100%3B%0A%20%20%20%20%20%20const%20rs%20%3D%20avgGain%20/%20avgLoss%3B%0A%20%20%20%20%20%20return%20%28100%20-%20100%20/%20%281%20+%20rs%29%29.toFixed%282%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20BollingerBands%28period%2C%20data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%20period%29%20return%20%5Bnull%2C%20null%5D%3B%0A%20%20%20%20%20%20const%20slice%20%3D%20data.slice%28-period%29%3B%0A%20%20%20%20%20%20const%20mean%20%3D%20slice.reduce%28%28acc%2C%20d%29%20%3D%3E%20acc%20+%20d.close%2C%200%29%20/%20period%3B%0A%20%20%20%20%20%20const%20variance%20%3D%20slice.reduce%28%28acc%2C%20d%29%20%3D%3E%20acc%20+%20Math.pow%28d.close%20-%20mean%2C%202%29%2C%200%29%20/%20period%3B%0A%20%20%20%20%20%20const%20stdDev%20%3D%20Math.sqrt%28variance%29%3B%0A%20%20%20%20%20%20return%20%5B%28mean%20+%202%20*%20stdDev%29.toFixed%282%29%2C%20%28mean%20-%202%20*%20stdDev%29.toFixed%282%29%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20ATR%28period%2C%20data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%20period%20+%201%29%20return%20null%3B%0A%20%20%20%20%20%20let%20trs%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%201%3B%20i%20%3C%20data.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20const%20high%20%3D%20data%5Bi%5D.high%3B%0A%20%20%20%20%20%20%20%20const%20low%20%3D%20data%5Bi%5D.low%3B%0A%20%20%20%20%20%20%20%20const%20prevClose%20%3D%20data%5Bi%20-%201%5D.close%3B%0A%20%20%20%20%20%20%20%20const%20tr%20%3D%20Math.max%28high%20-%20low%2C%20Math.abs%28high%20-%20prevClose%29%2C%20Math.abs%28low%20-%20prevClose%29%29%3B%0A%20%20%20%20%20%20%20%20trs.push%28tr%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20atr%20%3D%20trs.slice%28-period%29.reduce%28%28a%2C%20b%29%20%3D%3E%20a%20+%20b%2C%200%29%20/%20period%3B%0A%20%20%20%20%20%20return%20atr.toFixed%282%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20Donchian%28period%2C%20data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%20period%29%20return%20%5Bnull%2C%20null%5D%3B%0A%20%20%20%20%20%20const%20slice%20%3D%20data.slice%28-period%29%3B%0A%20%20%20%20%20%20const%20high%20%3D%20Math.max%28...slice.map%28c%20%3D%3E%20c.high%29%29%3B%0A%20%20%20%20%20%20const%20low%20%3D%20Math.min%28...slice.map%28c%20%3D%3E%20c.low%29%29%3B%0A%20%20%20%20%20%20return%20%5Bhigh.toFixed%282%29%2C%20low.toFixed%282%29%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20VWAP%28data%29%20%7B%0A%20%20%20%20%20%20let%20cumulativeTPV%20%3D%200%3B%0A%20%20%20%20%20%20let%20cumulativeVolume%20%3D%200%3B%0A%20%20%20%20%20%20for%20%28const%20k%20of%20data%29%20%7B%0A%20%20%20%20%20%20%20%20const%20tp%20%3D%20%28k.high%20+%20k.low%20+%20k.close%29%20/%203%3B%0A%20%20%20%20%20%20%20%20cumulativeTPV%20+%3D%20tp%20*%20k.volume%3B%0A%20%20%20%20%20%20%20%20cumulativeVolume%20+%3D%20k.volume%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20%28cumulativeTPV%20/%20cumulativeVolume%29.toFixed%282%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20OBV%28data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%202%29%20return%200%3B%0A%20%20%20%20%20%20let%20obv%20%3D%200%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%201%3B%20i%20%3C%20data.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28data%5Bi%5D.close%20%3E%20data%5Bi%20-%201%5D.close%29%20obv%20+%3D%20data%5Bi%5D.volume%3B%0A%20%20%20%20%20%20%20%20else%20if%20%28data%5Bi%5D.close%20%3C%20data%5Bi%20-%201%5D.close%29%20obv%20-%3D%20data%5Bi%5D.volume%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20obv.toFixed%282%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20Pivots%28c%29%20%7B%0A%20%20%20%20%20%20const%20pivot%20%3D%20%28c.high%20+%20c.low%20+%20c.close%29%20/%203%3B%0A%20%20%20%20%20%20const%20s1%20%3D%20%282%20*%20pivot%29%20-%20c.high%3B%0A%20%20%20%20%20%20const%20r1%20%3D%20%282%20*%20pivot%29%20-%20c.low%3B%0A%20%20%20%20%20%20return%20%5Bpivot.toFixed%282%29%2C%20s1.toFixed%282%29%2C%20r1.toFixed%282%29%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20ParabolicSAR%28data%2C%20step%20%3D%200.02%2C%20max%20%3D%200.2%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%202%29%20return%20null%3B%0A%20%20%20%20%20%20let%20isUptrend%20%3D%20true%3B%0A%20%20%20%20%20%20let%20sar%20%3D%20data%5Bdata.length%20-%202%5D.low%3B%0A%20%20%20%20%20%20let%20ep%20%3D%20data%5Bdata.length%20-%202%5D.high%3B%0A%20%20%20%20%20%20let%20af%20%3D%20step%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%20data.length%20-%202%3B%20i%20%3C%20data.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28isUptrend%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20sar%20+%3D%20af%20*%20%28ep%20-%20sar%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28data%5Bi%5D.low%20%3C%20sar%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20isUptrend%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sar%20%3D%20ep%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ep%20%3D%20data%5Bi%5D.low%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20af%20%3D%20step%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28data%5Bi%5D.high%20%3E%20ep%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ep%20%3D%20data%5Bi%5D.high%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20af%20%3D%20Math.min%28af%20+%20step%2C%20max%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20sar%20+%3D%20af%20*%20%28ep%20-%20sar%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28data%5Bi%5D.high%20%3E%20sar%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20isUptrend%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sar%20%3D%20ep%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ep%20%3D%20data%5Bi%5D.high%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20af%20%3D%20step%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28data%5Bi%5D.low%20%3C%20ep%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ep%20%3D%20data%5Bi%5D.low%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20af%20%3D%20Math.min%28af%20+%20step%2C%20max%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20sar.toFixed%282%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20ADX%28period%2C%20data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%20period%20+%201%29%20return%20null%3B%0A%20%20%20%20%20%20let%20plusDMs%20%3D%20%5B%5D%2C%20minusDMs%20%3D%20%5B%5D%2C%20trs%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%201%3B%20i%20%3C%20data.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20const%20upMove%20%3D%20data%5Bi%5D.high%20-%20data%5Bi%20-%201%5D.high%3B%0A%20%20%20%20%20%20%20%20const%20downMove%20%3D%20data%5Bi%20-%201%5D.low%20-%20data%5Bi%5D.low%3B%0A%20%20%20%20%20%20%20%20plusDMs.push%28upMove%20%3E%20downMove%20%26%26%20upMove%20%3E%200%20%3F%20upMove%20%3A%200%29%3B%0A%20%20%20%20%20%20%20%20minusDMs.push%28downMove%20%3E%20upMove%20%26%26%20downMove%20%3E%200%20%3F%20downMove%20%3A%200%29%3B%0A%20%20%20%20%20%20%20%20const%20tr%20%3D%20Math.max%28data%5Bi%5D.high%20-%20data%5Bi%5D.low%2C%20Math.abs%28data%5Bi%5D.high%20-%20data%5Bi%20-%201%5D.close%29%2C%20Math.abs%28data%5Bi%5D.low%20-%20data%5Bi%20-%201%5D.close%29%29%3B%0A%20%20%20%20%20%20%20%20trs.push%28tr%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20const%20avgTR%20%3D%20trs.slice%28-period%29.reduce%28%28a%2C%20b%29%20%3D%3E%20a%20+%20b%2C%200%29%20/%20period%3B%0A%20%20%20%20%20%20const%20avgPlusDM%20%3D%20plusDMs.slice%28-period%29.reduce%28%28a%2C%20b%29%20%3D%3E%20a%20+%20b%2C%200%29%20/%20period%3B%0A%20%20%20%20%20%20const%20avgMinusDM%20%3D%20minusDMs.slice%28-period%29.reduce%28%28a%2C%20b%29%20%3D%3E%20a%20+%20b%2C%200%29%20/%20period%3B%0A%20%20%20%20%20%20const%20plusDI%20%3D%20100%20*%20%28avgPlusDM%20/%20avgTR%29%3B%0A%20%20%20%20%20%20const%20minusDI%20%3D%20100%20*%20%28avgMinusDM%20/%20avgTR%29%3B%0A%20%20%20%20%20%20const%20dx%20%3D%20100%20*%20Math.abs%28plusDI%20-%20minusDI%29%20/%20%28plusDI%20+%20minusDI%29%3B%0A%20%20%20%20%20%20return%20dx.toFixed%282%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20Stochastic%28period%2C%20data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%20period%29%20return%20%5Bnull%2C%20null%5D%3B%0A%20%20%20%20%20%20const%20slice%20%3D%20data.slice%28-period%29%3B%0A%20%20%20%20%20%20const%20high%20%3D%20Math.max%28...slice.map%28d%20%3D%3E%20d.high%29%29%3B%0A%20%20%20%20%20%20const%20low%20%3D%20Math.min%28...slice.map%28d%20%3D%3E%20d.low%29%29%3B%0A%20%20%20%20%20%20const%20currentClose%20%3D%20data%5Bdata.length%20-%201%5D.close%3B%0A%20%20%20%20%20%20const%20k%20%3D%20%28%28currentClose%20-%20low%29%20/%20%28high%20-%20low%29%29%20*%20100%3B%0A%20%20%20%20%20%20recentStochK.push%28k%29%3B%0A%20%20%20%20%20%20if%20%28recentStochK.length%20%3E%203%29%20recentStochK.shift%28%29%3B%0A%20%20%20%20%20%20const%20d%20%3D%20recentStochK.length%20%3D%3D%3D%203%20%3F%20%28recentStochK.reduce%28%28a%2C%20b%29%20%3D%3E%20a%20+%20b%2C%200%29%20/%203%29.toFixed%282%29%20%3A%20null%3B%0A%20%20%20%20%20%20return%20%5Bk.toFixed%282%29%2C%20d%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20checkEMACross%28short%2C%20long%29%20%7B%0A%20%20%20%20%20%20if%20%28short%20%3D%3D%3D%20null%20%7C%7C%20long%20%3D%3D%3D%20null%29%20return%20%22%22%3B%0A%20%20%20%20%20%20if%20%28+short%20%3E%20+long%29%20return%20%22%uD83D%uDFE2%20Bullish%20EMA%20Cross%22%3B%0A%20%20%20%20%20%20if%20%28+short%20%3C%20+long%29%20return%20%22%uD83D%uDD34%20Bearish%20EMA%20Cross%22%3B%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20updateIndicators%28%29%20%7B%0A%20%20%20%20%20%20const%20sma14%20%3D%20SMA%2814%2C%20candles%29%3B%0A%20%20%20%20%20%20const%20ema14%20%3D%20EMA%2814%2C%20candles%29%3B%0A%20%20%20%20%20%20const%20%5Bmacd%2C%20signal%2C%20histo%5D%20%3D%20MACD%28candles%29%3B%0A%20%20%20%20%20%20const%20rsi%20%3D%20RSI%2814%2C%20candles%29%3B%0A%20%20%20%20%20%20const%20%5BbbU%2C%20bbL%5D%20%3D%20BollingerBands%2820%2C%20candles%29%3B%0A%20%20%20%20%20%20const%20atr%20%3D%20ATR%2814%2C%20candles%29%3B%0A%20%20%20%20%20%20const%20%5BdcH%2C%20dcL%5D%20%3D%20Donchian%2820%2C%20candles%29%3B%0A%20%20%20%20%20%20const%20vwap%20%3D%20VWAP%28candles%29%3B%0A%20%20%20%20%20%20const%20obv%20%3D%20OBV%28candles%29%3B%0A%20%20%20%20%20%20const%20%5Bpivot%2C%20s1%2C%20r1%5D%20%3D%20Pivots%28candles%5Bcandles.length%20-%201%5D%29%3B%0A%20%20%20%20%20%20const%20sar%20%3D%20ParabolicSAR%28candles%29%3B%0A%20%20%20%20%20%20const%20adx%20%3D%20ADX%2814%2C%20candles%29%3B%0A%20%20%20%20%20%20const%20%5BstochK%2C%20stochD%5D%20%3D%20Stochastic%2814%2C%20candles%29%3B%0A%20%20%20%20%20%20const%20emaSignal%20%3D%20checkEMACross%28ema14%2C%20sma14%29%3B%0A%0A%20%20%20%20%20%20panel.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%3Ch3%3E%uD83D%uDD39%20Trend%20Indicators%3C/h3%3E%0A%20%20%20%20%20%20%20%20%u2022%20SMA14%3A%20%24%7Bsafe%28sma14%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20EMA14%3A%20%24%7Bsafe%28ema14%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20EMA%20Signal%3A%20%24%7BemaSignal%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20MACD%20Line%3A%20%24%7Bsafe%28macd%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20Signal%20Line%3A%20%24%7Bsafe%28signal%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20Histogram%3A%20%24%7Bcolorize%28histo%2C%20true%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20Parabolic%20SAR%3A%20%24%7Bsafe%28sar%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20ADX%3A%20%24%7Bsafe%28adx%29%7D%0A%20%20%20%20%20%20%20%20%3Ch3%3E%uD83D%uDD38%20Momentum%20Indicators%3C/h3%3E%0A%20%20%20%20%20%20%20%20%u2022%20RSI14%3A%20%24%7Bcolorize%28rsi%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20Stoch%20%25K%3A%20%24%7Bsafe%28stochK%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20Stoch%20%25D%3A%20%24%7Bsafe%28stochD%29%7D%0A%20%20%20%20%20%20%20%20%3Ch3%3E%uD83C%uDF2A%uFE0F%20Volatility%20Indicators%3C/h3%3E%0A%20%20%20%20%20%20%20%20%u2022%20BB%20Upper%3A%20%24%7Bsafe%28bbU%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20BB%20Lower%3A%20%24%7Bsafe%28bbL%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20ATR%3A%20%24%7Bsafe%28atr%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20Donchian%20High%3A%20%24%7Bsafe%28dcH%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20Donchian%20Low%3A%20%24%7Bsafe%28dcL%29%7D%0A%20%20%20%20%20%20%20%20%3Ch3%3E%uD83D%uDCE6%20Volume%20Indicators%3C/h3%3E%0A%20%20%20%20%20%20%20%20%u2022%20VWAP%3A%20%24%7Bsafe%28vwap%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20OBV%3A%20%24%7Bsafe%28obv%29%7D%0A%20%20%20%20%20%20%20%20%3Ch3%3E%uD83D%uDD0D%20Price%20Action%20Tools%3C/h3%3E%0A%20%20%20%20%20%20%20%20%u2022%20Pivot%3A%20%24%7Bsafe%28pivot%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20S1%3A%20%24%7Bsafe%28s1%29%7D%3Cbr%3E%0A%20%20%20%20%20%20%20%20%u2022%20R1%3A%20%24%7Bsafe%28r1%29%7D%60%3B%0A%0A%20%20%20%20%20%20if%20%28emaSignal%29%20%7B%0A%20%20%20%20%20%20%20%20output.textContent%20%3D%20%60%uD83D%uDD14%20%24%7BemaSignal%7D%20@%20%24%7Bcandles%5Bcandles.length%20-%201%5D.close%7D%5Cn%60%20+%20output.textContent%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20%u23F1%uFE0F%20Refresh%20indicators%20every%201%20second%0A%20%20%20%20setInterval%28updateIndicators%2C%201000%29%3B%0A%0A%20%20%20%20function%20logLive%28k%2C%20isNew%20%3D%20false%29%20%7B%0A%20%20%20%20%20%20const%20ts%20%3D%20new%20Date%28k.start%20*%201000%29.toLocaleTimeString%28%29%3B%0A%20%20%20%20%20%20const%20delta%20%3D%20lastClose%20%21%3D%3D%20null%20%3F%20%28k.close%20-%20lastClose%29.toFixed%282%29%20%3A%20%22N/A%22%3B%0A%0A%20%20%20%20%20%20if%20%28isNew%29%20%7B%0A%20%20%20%20%20%20%20%20candleCount++%3B%0A%20%20%20%20%20%20%20%20lastClose%20%3D%20k.close%3B%0A%20%20%20%20%20%20%20%20candles.push%28k%29%3B%0A%20%20%20%20%20%20%20%20if%20%28candles.length%20%3E%20150%29%20candles.shift%28%29%3B%0A%20%20%20%20%20%20%20%20updateIndicators%28%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20label%20%3D%20isNew%20%3F%20%22%uD83D%uDFE2%20NEW%20CANDLE%22%20%3A%20%22%u26A1%20LIVE%20UPDATE%22%3B%0A%20%20%20%20%20%20output.textContent%20%3D%20%60%0A%24%7Blabel%7D%20%5B%23%24%7BcandleCount%7D%5D%20%uD83D%uDD52%20%24%7Bts%7D%0A%uD83D%uDCC8%20Open%3A%20%24%7Bk.open%7D%0A%uD83D%uDCC9%20Low%3A%20%24%7Bk.low%7D%0A%uD83D%uDCCA%20High%3A%20%24%7Bk.high%7D%0A%uD83D%uDD1A%20Close%3A%20%24%7Bk.close%7D%20%28%u2206%20%24%7Bdelta%7D%29%0A%uD83D%uDCE6%20Volume%3A%20%24%7Bk.volume%7D%0A%5Cn%5Cn%60%20+%20output.textContent%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20socket.onopen%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20output.textContent%20%3D%20%22%u2705%20Connected%20to%20Bybit%20WebSocket%5Cn%5Cn%22%3B%0A%20%20%20%20%20%20socket.send%28JSON.stringify%28%7B%20op%3A%20%22subscribe%22%2C%20args%3A%20%5B%22kline.1.ETHUSDT%22%5D%20%7D%29%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20msg%20%3D%20JSON.parse%28event.data%29%3B%0A%20%20%20%20%20%20if%20%28msg.topic%20%3D%3D%3D%20%22kline.1.ETHUSDT%22%20%26%26%20msg.data%29%20%7B%0A%20%20%20%20%20%20%20%20const%20raw%20%3D%20Array.isArray%28msg.data%29%20%3F%20msg.data%5B0%5D%20%3A%20msg.data%3B%0A%20%20%20%20%20%20%20%20const%20k%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20start%3A%20Number%28raw.start%29%2C%0A%20%20%20%20%20%20%20%20%20%20open%3A%20Number%28raw.open%29%2C%0A%20%20%20%20%20%20%20%20%20%20high%3A%20Number%28raw.high%29%2C%0A%20%20%20%20%20%20%20%20%20%20low%3A%20Number%28raw.low%29%2C%0A%20%20%20%20%20%20%20%20%20%20close%3A%20Number%28raw.close%29%2C%0A%20%20%20%20%20%20%20%20%20%20volume%3A%20Number%28raw.volume%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20const%20isNew%20%3D%20k.start%20%21%3D%3D%20lastCandleStart%3B%0A%20%20%20%20%20%20%20%20if%20%28isNew%29%20lastCandleStart%20%3D%20k.start%3B%0A%20%20%20%20%20%20%20%20logLive%28k%2C%20isNew%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onerror%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20output.textContent%20%3D%20%22%u274C%20WebSocket%20Error%5Cn%5Cn%22%20+%20output.textContent%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onclose%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20output.textContent%20%3D%20%22%u26A0%uFE0F%20WebSocket%20Closed%5Cn%5Cn%22%20+%20output.textContent%3B%0A%20%20%20%20%7D%3B%0A%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A%3Cscript%3E%0A%20%20async%20function%20fetch1MillionCandles%28symbol%20%3D%20%22ETHUSDT%22%2C%20interval%20%3D%20%221%22%2C%20total%20%3D%201000000%29%20%7B%0A%20%20%20%20const%20BATCH_SIZE%20%3D%201000%3B%0A%20%20%20%20let%20candlesFetched%20%3D%200%3B%0A%20%20%20%20let%20allCandles%20%3D%20%5B%5D%3B%0A%20%20%20%20let%20fromTime%20%3D%20Math.floor%28Date.now%28%29%20/%201000%29%20-%20total%20*%2060%3B%20//%20go%20back%20in%20time%0A%0A%20%20%20%20while%20%28candlesFetched%20%3C%20total%29%20%7B%0A%20%20%20%20%20%20const%20url%20%3D%20%60https%3A//api.bybit.com/v5/market/kline%3Fcategory%3Dlinear%26symbol%3D%24%7Bsymbol%7D%26interval%3D%24%7Binterval%7D%26limit%3D%24%7BBATCH_SIZE%7D%26start%3D%24%7BfromTime%20*%201000%7D%60%3B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20res%20%3D%20await%20fetch%28url%29%3B%0A%20%20%20%20%20%20%20%20const%20json%20%3D%20await%20res.json%28%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28json.retCode%20%21%3D%3D%200%20%7C%7C%20%21json.result%3F.list%20%7C%7C%20json.result.list.length%20%3D%3D%3D%200%29%20break%3B%0A%0A%20%20%20%20%20%20%20%20const%20batch%20%3D%20json.result.list.map%28c%20%3D%3E%20%28%7B%0A%20%20%20%20%20%20%20%20%20%20start%3A%20Math.floor%28c%5B0%5D%20/%201000%29%2C%0A%20%20%20%20%20%20%20%20%20%20open%3A%20parseFloat%28c%5B1%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20high%3A%20parseFloat%28c%5B2%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20low%3A%20parseFloat%28c%5B3%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20close%3A%20parseFloat%28c%5B4%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20volume%3A%20parseFloat%28c%5B5%5D%29%0A%20%20%20%20%20%20%20%20%7D%29%29%3B%0A%0A%20%20%20%20%20%20%20%20allCandles%20%3D%20allCandles.concat%28batch%29%3B%0A%20%20%20%20%20%20%20%20candlesFetched%20+%3D%20batch.length%3B%0A%20%20%20%20%20%20%20%20fromTime%20%3D%20Math.floor%28batch%5Bbatch.length%20-%201%5D.start%29%20+%2060%3B%20//%20move%20forward%0A%0A%20%20%20%20%20%20%20%20output.textContent%20%3D%20%60%u23F3%20Fetching...%20%24%7BcandlesFetched%7D/%24%7Btotal%7D%20candles%5Cn%60%20+%20output.textContent%3B%0A%20%20%20%20%20%20%20%20await%20new%20Promise%28r%20%3D%3E%20setTimeout%28r%2C%20300%29%29%3B%20//%20rate-limit%20safety%0A%20%20%20%20%20%20%7D%20catch%20%28err%29%20%7B%0A%20%20%20%20%20%20%20%20output.textContent%20%3D%20%60%u274C%20Error%3A%20%24%7Berr.message%7D%5Cn%60%20+%20output.textContent%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20output.textContent%20%3D%20%60%u2705%20Finished%20fetching%20%24%7BallCandles.length%7D%20candles.%5Cn%60%20+%20output.textContent%3B%0A%0A%20%20%20%20//%20Add%20to%20live%20candles%20array%20for%20indicators%0A%20%20%20%20candles%20%3D%20allCandles.slice%28-150%29%3B%20//%20keep%20latest%20150%20for%20indicators%0A%20%20%20%20updateIndicators%28%29%3B%0A%20%20%7D%0A%0A%20%20//%20Run%20fetch%20on%20load%0A%20%20fetch1MillionCandles%28%29%3B%0A%3C/script%3E%0A%3Cscript%3E%0A%20%20async%20function%20preloadCandles%28%29%20%7B%0A%20%20%20%20output.textContent%20%3D%20%22%u23F3%20Fetching%20150%20candles%20from%20Bybit...%5Cn%22%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20const%20res%20%3D%20await%20fetch%28%27https%3A//api.bybit.com/v5/market/kline%3Fcategory%3Dlinear%26symbol%3DETHUSDT%26interval%3D1%26limit%3D150%27%29%3B%0A%20%20%20%20%20%20const%20json%20%3D%20await%20res.json%28%29%3B%0A%0A%20%20%20%20%20%20if%20%28json.retCode%20%21%3D%3D%200%20%7C%7C%20%21json.result%3F.list%3F.length%29%20%7B%0A%20%20%20%20%20%20%20%20output.textContent%20+%3D%20%60%u274C%20Failed%3A%20%24%7Bjson.retMsg%20%7C%7C%20%22Unknown%20error%22%7D%5Cn%60%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20data%20%3D%20json.result.list.reverse%28%29%3B%0A%20%20%20%20%20%20candles%20%3D%20data.map%28c%20%3D%3E%20%28%7B%0A%20%20%20%20%20%20%20%20start%3A%20Number%28c%5B0%5D%29%20/%201000%2C%0A%20%20%20%20%20%20%20%20open%3A%20Number%28c%5B1%5D%29%2C%0A%20%20%20%20%20%20%20%20high%3A%20Number%28c%5B2%5D%29%2C%0A%20%20%20%20%20%20%20%20low%3A%20Number%28c%5B3%5D%29%2C%0A%20%20%20%20%20%20%20%20close%3A%20Number%28c%5B4%5D%29%2C%0A%20%20%20%20%20%20%20%20volume%3A%20Number%28c%5B5%5D%29%0A%20%20%20%20%20%20%7D%29%29%3B%0A%0A%20%20%20%20%20%20candleCount%20%3D%20candles.length%3B%0A%20%20%20%20%20%20lastClose%20%3D%20candles%5Bcandles.length%20-%201%5D.close%3B%0A%20%20%20%20%20%20lastCandleStart%20%3D%20candles%5Bcandles.length%20-%201%5D.start%3B%0A%0A%20%20%20%20%20%20console.log%28%22%u2705%20Candle%20sample%3A%22%2C%20candles.slice%28-3%29%29%3B%0A%0A%20%20%20%20%20%20const%20%5Bmacd%2C%20signal%2C%20histo%5D%20%3D%20MACD%28candles%29%3B%0A%20%20%20%20%20%20console.log%28%22%uD83D%uDCCA%20MACD%20Debug%3A%22%2C%20%7B%20macd%2C%20signal%2C%20histo%20%7D%29%3B%0A%0A%20%20%20%20%20%20output.textContent%20+%3D%20%60%u2705%20Preloaded%20%24%7Bcandles.length%7D%20candles%5Cn%60%3B%0A%20%20%20%20%20%20updateIndicators%28%29%3B%0A%20%20%20%20%20%20connectWebSocket%28%29%3B%0A%20%20%20%20%7D%20catch%20%28err%29%20%7B%0A%20%20%20%20%20%20output.textContent%20+%3D%20%60%u274C%20Fetch%20error%3A%20%24%7Berr.message%7D%5Cn%60%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20connectWebSocket%28%29%20%7B%0A%20%20%20%20socket.onopen%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20output.textContent%20+%3D%20%22%u2705%20WebSocket%20connected%5Cn%22%3B%0A%20%20%20%20%20%20socket.send%28JSON.stringify%28%7B%20op%3A%20%22subscribe%22%2C%20args%3A%20%5B%22kline.1.ETHUSDT%22%5D%20%7D%29%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20msg%20%3D%20JSON.parse%28event.data%29%3B%0A%20%20%20%20%20%20if%20%28msg.topic%20%3D%3D%3D%20%22kline.1.ETHUSDT%22%20%26%26%20msg.data%29%20%7B%0A%20%20%20%20%20%20%20%20const%20raw%20%3D%20Array.isArray%28msg.data%29%20%3F%20msg.data%5B0%5D%20%3A%20msg.data%3B%0A%20%20%20%20%20%20%20%20const%20k%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20start%3A%20Number%28raw.start%29%2C%0A%20%20%20%20%20%20%20%20%20%20open%3A%20Number%28raw.open%29%2C%0A%20%20%20%20%20%20%20%20%20%20high%3A%20Number%28raw.high%29%2C%0A%20%20%20%20%20%20%20%20%20%20low%3A%20Number%28raw.low%29%2C%0A%20%20%20%20%20%20%20%20%20%20close%3A%20Number%28raw.close%29%2C%0A%20%20%20%20%20%20%20%20%20%20volume%3A%20Number%28raw.volume%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20const%20isNew%20%3D%20k.start%20%21%3D%3D%20lastCandleStart%3B%0A%20%20%20%20%20%20%20%20if%20%28isNew%29%20lastCandleStart%20%3D%20k.start%3B%0A%20%20%20%20%20%20%20%20logLive%28k%2C%20isNew%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onerror%20%3D%20%28%29%20%3D%3E%20output.textContent%20+%3D%20%22%u274C%20WebSocket%20error%5Cn%22%3B%0A%20%20%20%20socket.onclose%20%3D%20%28%29%20%3D%3E%20output.textContent%20+%3D%20%22%u26A0%uFE0F%20WebSocket%20closed%5Cn%22%3B%0A%20%20%7D%0A%0A%20%20function%20MACD%28data%29%20%7B%0A%20%20%20%20const%20ema12%20%3D%20EMAArray%2812%2C%20data%29%3B%0A%20%20%20%20const%20ema26%20%3D%20EMAArray%2826%2C%20data%29%3B%0A%0A%20%20%20%20if%20%28%21ema12%20%7C%7C%20%21ema26%20%7C%7C%20ema12.length%20%3C%201%20%7C%7C%20ema26.length%20%3C%201%29%20%7B%0A%20%20%20%20%20%20console.warn%28%22%u274C%20MACD%20Error%3A%20EMA%20data%20incomplete%22%2C%20%7B%20ema12%2C%20ema26%20%7D%29%3B%0A%20%20%20%20%20%20return%20%5Bnull%2C%20null%2C%20null%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20minLen%20%3D%20Math.min%28ema12.length%2C%20ema26.length%29%3B%0A%20%20%20%20const%20macdLine%20%3D%20ema12.slice%28-minLen%29.map%28%28v%2C%20i%29%20%3D%3E%20v%20-%20ema26.slice%28-minLen%29%5Bi%5D%29%3B%0A%20%20%20%20const%20signalLine%20%3D%20EMAFromArray%289%2C%20macdLine%29%3B%0A%0A%20%20%20%20if%20%28%21signalLine%20%7C%7C%20signalLine.length%20%3C%201%29%20%7B%0A%20%20%20%20%20%20console.warn%28%22%u274C%20MACD%20Error%3A%20Signal%20line%20invalid%22%2C%20%7B%20signalLine%20%7D%29%3B%0A%20%20%20%20%20%20return%20%5Bnull%2C%20null%2C%20null%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20histo%20%3D%20macdLine%5BmacdLine.length%20-%201%5D%20-%20signalLine%5BsignalLine.length%20-%201%5D%3B%0A%0A%20%20%20%20return%20%5B%0A%20%20%20%20%20%20macdLine%5BmacdLine.length%20-%201%5D.toFixed%284%29%2C%0A%20%20%20%20%20%20signalLine%5BsignalLine.length%20-%201%5D.toFixed%284%29%2C%0A%20%20%20%20%20%20histo.toFixed%284%29%0A%20%20%20%20%5D%3B%0A%20%20%7D%0A%0A%20%20setInterval%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28candles.length%20%3E%3D%2035%29%20%7B%0A%20%20%20%20%20%20updateIndicators%28%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20panel.innerHTML%20%3D%20%22%u23F3%20Waiting%20for%20more%20candles...%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%201000%29%3B%0A%0A%20%20preloadCandles%28%29%3B%20//%20Start%20everything%0A%3C/script%3E%0A%3Cscript%3E%0A%20%20let%20candles%20%3D%20%5B%5D%3B%0A%20%20let%20lastClose%20%3D%200%3B%0A%20%20let%20lastCandleStart%20%3D%200%3B%0A%20%20let%20candleCount%20%3D%200%3B%0A%20%20const%20output%20%3D%20document.querySelector%28%22%23output%22%29%3B%0A%20%20const%20panel%20%3D%20document.querySelector%28%22%23panel%22%29%3B%0A%0A%20%20async%20function%20preloadCandles%28%29%20%7B%0A%20%20%20%20output.textContent%20%3D%20%22%u23F3%20Fetching%201%2C000%2C000%20candles%20from%20Bybit...%5Cn%22%3B%0A%0A%20%20%20%20const%20maxPerRequest%20%3D%201000%3B%0A%20%20%20%20const%20totalNeeded%20%3D%201000000%3B%0A%20%20%20%20let%20fetched%20%3D%200%3B%0A%20%20%20%20let%20cursor%20%3D%20null%3B%0A%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20while%20%28fetched%20%3C%20totalNeeded%29%20%7B%0A%20%20%20%20%20%20%20%20const%20url%20%3D%20new%20URL%28%27https%3A//api.bybit.com/v5/market/kline%27%29%3B%0A%20%20%20%20%20%20%20%20url.searchParams.set%28%22category%22%2C%20%22linear%22%29%3B%0A%20%20%20%20%20%20%20%20url.searchParams.set%28%22symbol%22%2C%20%22ETHUSDT%22%29%3B%0A%20%20%20%20%20%20%20%20url.searchParams.set%28%22interval%22%2C%20%221%22%29%3B%0A%20%20%20%20%20%20%20%20url.searchParams.set%28%22limit%22%2C%20maxPerRequest%29%3B%0A%20%20%20%20%20%20%20%20if%20%28cursor%29%20url.searchParams.set%28%22end%22%2C%20cursor%29%3B%0A%0A%20%20%20%20%20%20%20%20const%20res%20%3D%20await%20fetch%28url%29%3B%0A%20%20%20%20%20%20%20%20const%20json%20%3D%20await%20res.json%28%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28json.retCode%20%21%3D%3D%200%20%7C%7C%20%21json.result%3F.list%3F.length%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20output.textContent%20+%3D%20%60%u274C%20Failed%3A%20%24%7Bjson.retMsg%20%7C%7C%20%22Unknown%20error%22%7D%5Cn%60%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20data%20%3D%20json.result.list.reverse%28%29%3B%0A%20%20%20%20%20%20%20%20candles.unshift%28...data.map%28c%20%3D%3E%20%28%7B%0A%20%20%20%20%20%20%20%20%20%20start%3A%20Number%28c%5B0%5D%29%20/%201000%2C%0A%20%20%20%20%20%20%20%20%20%20open%3A%20Number%28c%5B1%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20high%3A%20Number%28c%5B2%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20low%3A%20Number%28c%5B3%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20close%3A%20Number%28c%5B4%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20volume%3A%20Number%28c%5B5%5D%29%0A%20%20%20%20%20%20%20%20%7D%29%29%29%3B%0A%0A%20%20%20%20%20%20%20%20fetched%20+%3D%20data.length%3B%0A%20%20%20%20%20%20%20%20cursor%20%3D%20data%5B0%5D%5B0%5D%3B%20//%20get%20next%20batch%20based%20on%20oldest%20timestamp%0A%20%20%20%20%20%20%20%20output.textContent%20%3D%20%60%u23F3%20Loaded%3A%20%24%7Bfetched%7D%20/%20%24%7BtotalNeeded%7D%5Cn%60%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28data.length%20%3C%20maxPerRequest%29%20break%3B%20//%20no%20more%20data%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20candleCount%20%3D%20candles.length%3B%0A%20%20%20%20%20%20lastClose%20%3D%20candles%5Bcandles.length%20-%201%5D.close%3B%0A%20%20%20%20%20%20lastCandleStart%20%3D%20candles%5Bcandles.length%20-%201%5D.start%3B%0A%0A%20%20%20%20%20%20console.log%28%22%u2705%20Candle%20sample%3A%22%2C%20candles.slice%28-3%29%29%3B%0A%0A%20%20%20%20%20%20const%20%5Bmacd%2C%20signal%2C%20histo%5D%20%3D%20MACD%28candles%29%3B%0A%20%20%20%20%20%20console.log%28%22%uD83D%uDCCA%20MACD%20Debug%3A%22%2C%20%7B%20macd%2C%20signal%2C%20histo%20%7D%29%3B%0A%0A%20%20%20%20%20%20output.textContent%20+%3D%20%60%u2705%20Preloaded%20%24%7Bcandles.length%7D%20candles%5Cn%60%3B%0A%20%20%20%20%20%20updateIndicators%28%29%3B%0A%20%20%20%20%20%20connectWebSocket%28%29%3B%0A%20%20%20%20%7D%20catch%20%28err%29%20%7B%0A%20%20%20%20%20%20output.textContent%20+%3D%20%60%u274C%20Fetch%20error%3A%20%24%7Berr.message%7D%5Cn%60%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20//%20Keep%20existing%20connectWebSocket%20and%20MACD%20functions%20here...%0A%3C/script%3E%0A%3Cscript%3E%0A%20%20let%20memoryGoodEntry%20%3D%20null%3B%0A%0A%20%20function%20detectTrapPattern%28candles%29%20%7B%0A%20%20%20%20if%20%28candles.length%20%3C%206%29%20return%20false%3B%0A%0A%20%20%20%20const%20last%20%3D%20candles%5Bcandles.length%20-%201%5D%3B%0A%20%20%20%20const%20prev%20%3D%20candles%5Bcandles.length%20-%202%5D%3B%0A%20%20%20%20const%20third%20%3D%20candles%5Bcandles.length%20-%203%5D%3B%0A%0A%20%20%20%20const%20longWick%20%3D%20%28c%29%20%3D%3E%20%28c.high%20-%20Math.max%28c.close%2C%20c.open%29%29%20%3E%202%20*%20%28Math.abs%28c.close%20-%20c.open%29%29%3B%0A%20%20%20%20const%20strongReversal%20%3D%20Math.abs%28last.close%20-%20last.open%29%20%3E%20%28last.high%20-%20last.low%29%20*%200.6%3B%0A%0A%20%20%20%20const%20fakeBreakout%20%3D%0A%20%20%20%20%20%20third.close%20%3C%20prev.low%20%26%26%20//%20dropped%20low%0A%20%20%20%20%20%20prev.close%20%3E%20third.close%20%26%26%0A%20%20%20%20%20%20last.close%20%3E%20prev.close%20%26%26%20//%20strong%20green%0A%20%20%20%20%20%20longWick%28prev%29%3B%0A%0A%20%20%20%20return%20fakeBreakout%20%26%26%20strongReversal%3B%0A%20%20%7D%0A%0A%20%20function%20scanForTrapsAndAlert%28%29%20%7B%0A%20%20%20%20if%20%28candles.length%20%3C%20100%29%20return%3B%0A%0A%20%20%20%20const%20detected%20%3D%20detectTrapPattern%28candles%29%3B%0A%0A%20%20%20%20if%20%28detected%20%26%26%20%21memoryGoodEntry%29%20%7B%0A%20%20%20%20%20%20const%20entryPrice%20%3D%20candles%5Bcandles.length%20-%201%5D.close%3B%0A%20%20%20%20%20%20memoryGoodEntry%20%3D%20%7B%0A%20%20%20%20%20%20%20%20entry%3A%20entryPrice%2C%0A%20%20%20%20%20%20%20%20candle%3A%20candles%5Bcandles.length%20-%201%5D%2C%0A%20%20%20%20%20%20%20%20timestamp%3A%20new%20Date%28%29.toLocaleTimeString%28%29%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20alert%28%60%u2705%20Good%20Entry%20Detected%20@%20%24%24%7BentryPrice.toFixed%282%29%7D%60%29%3B%0A%20%20%20%20%20%20output.textContent%20%3D%20%60%u2705%20Good%20Entry%20@%20%24%24%7BentryPrice.toFixed%282%29%7D%20%5B%24%7BmemoryGoodEntry.timestamp%7D%5D%0A%60%20+%20output.textContent%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20check%20for%20exit%20alert%0A%20%20%20%20if%20%28memoryGoodEntry%29%20%7B%0A%20%20%20%20%20%20const%20currPrice%20%3D%20candles%5Bcandles.length%20-%201%5D.close%3B%0A%20%20%20%20%20%20const%20gain%20%3D%20%28%28currPrice%20-%20memoryGoodEntry.entry%29%20/%20memoryGoodEntry.entry%29%20*%20100%3B%0A%20%20%20%20%20%20if%20%28gain%20%3E%200.5%20%7C%7C%20gain%20%3C%20-0.4%29%20%7B%0A%20%20%20%20%20%20%20%20alert%28%60%uD83D%uDEAA%20Exit%20@%20%24%24%7BcurrPrice.toFixed%282%29%7D%20%7C%20PnL%3A%20%24%7Bgain.toFixed%282%29%7D%25%60%29%3B%0A%20%20%20%20%20%20%20%20output.textContent%20%3D%20%60%uD83D%uDEAA%20Exit%20@%20%24%24%7BcurrPrice.toFixed%282%29%7D%20%7C%20PnL%3A%20%24%7Bgain.toFixed%282%29%7D%25%0A%60%20+%20output.textContent%3B%0A%20%20%20%20%20%20%20%20memoryGoodEntry%20%3D%20null%3B%20//%20clear%20memory%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20//%20Attach%20to%20your%20existing%20candle%20update%20handler%0A%20%20setInterval%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28candles.length%20%3E%3D%20100%29%20%7B%0A%20%20%20%20%20%20scanForTrapsAndAlert%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%203000%29%3B%20//%20every%203s%0A%3C/script%3E%0A%0A%3Cscript%3E%0A%20%20let%20detectedPatterns%20%3D%20%7B%0A%20%20%20%20bullish%3A%20new%20Set%28%29%2C%0A%20%20%20%20bearish%3A%20new%20Set%28%29%0A%20%20%7D%3B%0A%0A%20%20let%20lastBullishPatternAlert%20%3D%200%3B%0A%20%20let%20lastBearishPatternAlert%20%3D%200%3B%0A%0A%20%20function%20roundCombo%28adx%2C%20rsi%2C%20atr%29%20%7B%0A%20%20%20%20return%20%60%24%7BMath.round%28adx%29%7D-%24%7BMath.round%28rsi%29%7D-%24%7Batr.toFixed%282%29%7D%60%3B%0A%20%20%7D%0A%0A%20%20function%20learnHistoricalPatterns%28%29%20%7B%0A%20%20%20%20const%20learnRange%20%3D%20candles.length%20-%201000%3B%0A%20%20%20%20for%20%28let%20i%20%3D%2015%3B%20i%20%3C%20learnRange%3B%20i++%29%20%7B%0A%20%20%20%20%20%20const%20adx%20%3D%20parseFloat%28ADX%2814%2C%20candles.slice%280%2C%20i%29%29%29%3B%0A%20%20%20%20%20%20const%20rsi%20%3D%20parseFloat%28RSI%2814%2C%20candles.slice%280%2C%20i%29%29%29%3B%0A%20%20%20%20%20%20const%20atr%20%3D%20parseFloat%28ATR%2814%2C%20candles.slice%280%2C%20i%29%29%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21adx%20%7C%7C%20%21rsi%20%7C%7C%20%21atr%29%20continue%3B%0A%0A%20%20%20%20%20%20const%20combo%20%3D%20roundCombo%28adx%2C%20rsi%2C%20atr%29%3B%0A%20%20%20%20%20%20const%20currentClose%20%3D%20candles%5Bi%5D.close%3B%0A%20%20%20%20%20%20const%20futureClose%20%3D%20candles%5Bi%20+%205%5D%3F.close%3B%0A%20%20%20%20%20%20if%20%28%21futureClose%29%20continue%3B%0A%0A%20%20%20%20%20%20const%20percentMove%20%3D%20%28%28futureClose%20-%20currentClose%29%20/%20currentClose%29%20*%20100%3B%0A%0A%20%20%20%20%20%20if%20%28percentMove%20%3E%200.4%29%20%7B%0A%20%20%20%20%20%20%20%20detectedPatterns.bullish.add%28combo%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28percentMove%20%3C%20-0.4%29%20%7B%0A%20%20%20%20%20%20%20%20detectedPatterns.bearish.add%28combo%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20output.textContent%20%3D%20%60%u2705%20Learned%20%24%7BdetectedPatterns.bullish.size%7D%20bullish%20+%20%24%7BdetectedPatterns.bearish.size%7D%20bearish%20patterns.%5Cn%60%20+%20output.textContent%3B%0A%20%20%7D%0A%0A%20%20function%20detectCurrentPattern%28%29%20%7B%0A%20%20%20%20const%20adx%20%3D%20parseFloat%28ADX%2814%2C%20candles%29%29%3B%0A%20%20%20%20const%20rsi%20%3D%20parseFloat%28RSI%2814%2C%20candles%29%29%3B%0A%20%20%20%20const%20atr%20%3D%20parseFloat%28ATR%2814%2C%20candles%29%29%3B%0A%20%20%20%20if%20%28%21adx%20%7C%7C%20%21rsi%20%7C%7C%20%21atr%29%20return%3B%0A%0A%20%20%20%20const%20combo%20%3D%20roundCombo%28adx%2C%20rsi%2C%20atr%29%3B%0A%20%20%20%20const%20now%20%3D%20new%20Date%28%29.toLocaleTimeString%28%29%3B%0A%0A%20%20%20%20if%20%28detectedPatterns.bullish.has%28combo%29%29%20%7B%0A%20%20%20%20%20%20output.textContent%20%3D%20%60%uD83D%uDE80%20%5B%24%7Bnow%7D%5D%20Million%20Pattern%20BULLISH%20Match%3A%20ADX%20%24%7Badx%7D%20/%20RSI%20%24%7Brsi%7D%20/%20ATR%20%24%7Batr%7D%5Cn%60%20+%20output.textContent%3B%0A%20%20%20%20%20%20if%20%28Date.now%28%29%20-%20lastBullishPatternAlert%20%3E%2060000%29%20%7B%0A%20%20%20%20%20%20%20%20alert%28%60%uD83D%uDE80%20BULLISH%20PATTERN%20DETECTED%21%5CnADX%3A%20%24%7Badx%7D%5CnRSI%3A%20%24%7Brsi%7D%5CnATR%3A%20%24%7Batr%7D%60%29%3B%0A%20%20%20%20%20%20%20%20lastBullishPatternAlert%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20if%20%28detectedPatterns.bearish.has%28combo%29%29%20%7B%0A%20%20%20%20%20%20output.textContent%20%3D%20%60%u26A0%uFE0F%20%5B%24%7Bnow%7D%5D%20Million%20Pattern%20BEARISH%20Match%3A%20ADX%20%24%7Badx%7D%20/%20RSI%20%24%7Brsi%7D%20/%20ATR%20%24%7Batr%7D%5Cn%60%20+%20output.textContent%3B%0A%20%20%20%20%20%20if%20%28Date.now%28%29%20-%20lastBearishPatternAlert%20%3E%2060000%29%20%7B%0A%20%20%20%20%20%20%20%20alert%28%60%u26A0%uFE0F%20BEARISH%20PATTERN%20DETECTED%21%5CnADX%3A%20%24%7Badx%7D%5CnRSI%3A%20%24%7Brsi%7D%5CnATR%3A%20%24%7Batr%7D%60%29%3B%0A%20%20%20%20%20%20%20%20lastBearishPatternAlert%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20//%20Call%20pattern%20learner%20after%20candles%20are%20loaded%0A%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28candles.length%20%3E%205000%29%20learnHistoricalPatterns%28%29%3B%0A%20%20%7D%2C%205000%29%3B%0A%0A%20%20//%20Check%20current%20pattern%20every%201%20second%0A%20%20setInterval%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28candles.length%20%3E%3D%2035%29%20%7B%0A%20%20%20%20%20%20detectCurrentPattern%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%201000%29%3B%0A%3C/script%3E%0A%0A%3Cscript%3E%0A%20%20let%20learnedFakeouts%20%3D%20%5B%5D%3B%0A%0A%20%20//%20Learn%20from%201%20million%20candles%0A%20%20function%20learnFakeoutsFromHistory%28candles%29%20%7B%0A%20%20%20%20const%20memory%20%3D%20%5B%5D%3B%0A%20%20%20%20for%20%28let%20i%20%3D%203%3B%20i%20%3C%20candles.length%20-%202%3B%20i++%29%20%7B%0A%20%20%20%20%20%20const%20c0%20%3D%20candles%5Bi%20-%202%5D%3B%0A%20%20%20%20%20%20const%20c1%20%3D%20candles%5Bi%20-%201%5D%3B%0A%20%20%20%20%20%20const%20c2%20%3D%20candles%5Bi%5D%3B%0A%0A%20%20%20%20%20%20const%20longWickUp%20%3D%20%28c2.high%20-%20Math.max%28c2.open%2C%20c2.close%29%29%20%3E%20%28c2.close%20-%20c2.low%29%20*%202%3B%0A%20%20%20%20%20%20const%20longWickDown%20%3D%20%28Math.min%28c2.open%2C%20c2.close%29%20-%20c2.low%29%20%3E%20%28c2.high%20-%20c2.close%29%20*%202%3B%0A%0A%20%20%20%20%20%20const%20fakeBreakoutHigh%20%3D%20c2.high%20%3E%20c1.high%20%26%26%20c2.close%20%3C%20c1.close%20%26%26%20longWickUp%3B%0A%20%20%20%20%20%20const%20fakeBreakoutLow%20%3D%20c2.low%20%3C%20c1.low%20%26%26%20c2.close%20%3E%20c1.close%20%26%26%20longWickDown%3B%0A%0A%20%20%20%20%20%20if%20%28fakeBreakoutHigh%20%7C%7C%20fakeBreakoutLow%29%20%7B%0A%20%20%20%20%20%20%20%20memory.push%28%7B%0A%20%20%20%20%20%20%20%20%20%20pattern%3A%20fakeBreakoutHigh%20%3F%20%22FAKE_HIGH%22%20%3A%20%22FAKE_LOW%22%2C%0A%20%20%20%20%20%20%20%20%20%20wickRatio%3A%20fakeBreakoutHigh%0A%20%20%20%20%20%20%20%20%20%20%20%20%3F%20%28%28c2.high%20-%20c2.close%29%20/%20%28c2.close%20-%20c2.low%29%29.toFixed%282%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%3A%20%28%28c2.open%20-%20c2.low%29%20/%20%28c2.high%20-%20c2.close%29%29.toFixed%282%29%2C%0A%20%20%20%20%20%20%20%20%20%20bodySize%3A%20Math.abs%28c2.close%20-%20c2.open%29.toFixed%282%29%2C%0A%20%20%20%20%20%20%20%20%20%20totalRange%3A%20%28c2.high%20-%20c2.low%29.toFixed%282%29%2C%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20learnedFakeouts%20%3D%20memory.slice%28-1000%29%3B%20//%20Keep%20last%201k%20learned%20patterns%0A%20%20%20%20output.textContent%20%3D%20%60%uD83D%uDCDA%20Learned%20%24%7BlearnedFakeouts.length%7D%20fake-out%20patterns%5Cn%60%20+%20output.textContent%3B%0A%20%20%7D%0A%0A%20%20//%20Detect%20if%20current%20candle%20matches%20any%20learned%20fake-out%20pattern%0A%20%20function%20detectFakeout%28current%29%20%7B%0A%20%20%20%20const%20wickRatioUp%20%3D%20%28%28current.high%20-%20current.close%29%20/%20%28current.close%20-%20current.low%29%29.toFixed%282%29%3B%0A%20%20%20%20const%20wickRatioDown%20%3D%20%28%28current.open%20-%20current.low%29%20/%20%28current.high%20-%20current.close%29%29.toFixed%282%29%3B%0A%20%20%20%20const%20body%20%3D%20Math.abs%28current.close%20-%20current.open%29.toFixed%282%29%3B%0A%20%20%20%20const%20range%20%3D%20%28current.high%20-%20current.low%29.toFixed%282%29%3B%0A%0A%20%20%20%20for%20%28let%20f%20of%20learnedFakeouts%29%20%7B%0A%20%20%20%20%20%20const%20similar%20%3D%20%28%0A%20%20%20%20%20%20%20%20Math.abs%28f.bodySize%20-%20body%29%20%3C%200.1%20%26%26%0A%20%20%20%20%20%20%20%20Math.abs%28f.totalRange%20-%20range%29%20%3C%200.3%20%26%26%0A%20%20%20%20%20%20%20%20%28%0A%20%20%20%20%20%20%20%20%20%20%28f.pattern%20%3D%3D%3D%20%22FAKE_HIGH%22%20%26%26%20Math.abs%28f.wickRatio%20-%20wickRatioUp%29%20%3C%200.5%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%28f.pattern%20%3D%3D%3D%20%22FAKE_LOW%22%20%26%26%20Math.abs%28f.wickRatio%20-%20wickRatioDown%29%20%3C%200.5%29%0A%20%20%20%20%20%20%20%20%29%0A%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20if%20%28similar%29%20return%20f.pattern%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20null%3B%0A%20%20%7D%0A%0A%20%20//%20Trigger%20popup%20alert%0A%20%20function%20fakeoutAlert%28type%2C%20candle%29%20%7B%0A%20%20%20%20const%20price%20%3D%20candle.close.toFixed%282%29%3B%0A%20%20%20%20const%20msg%20%3D%20%60%uD83D%uDEA8%20FAKEOUT%20DETECTED%20%28%24%7Btype%7D%29%20@%20%24%24%7Bprice%7D%60%3B%0A%20%20%20%20alert%28msg%29%3B%0A%20%20%20%20output.textContent%20%3D%20msg%20+%20%22%5Cn%22%20+%20output.textContent%3B%0A%20%20%7D%0A%0A%20%20//%20Schedule%20scan%20every%2015%20seconds%0A%20%20setInterval%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28candles.length%20%3C%205%20%7C%7C%20learnedFakeouts.length%20%3D%3D%3D%200%29%20return%3B%0A%20%20%20%20const%20latest%20%3D%20candles%5Bcandles.length%20-%201%5D%3B%0A%20%20%20%20const%20detected%20%3D%20detectFakeout%28latest%29%3B%0A%20%20%20%20if%20%28detected%29%20%7B%0A%20%20%20%20%20%20fakeoutAlert%28detected%2C%20latest%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%2015000%29%3B%0A%0A%20%20//%20Learn%20after%20full%20historical%20preload%0A%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28candles.length%20%3E%3D%205000%29%20%7B%0A%20%20%20%20%20%20learnFakeoutsFromHistory%28candles%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%205000%29%3B%20//%20wait%20until%20preload%20finishes%0A%3C/script%3E%0A%0A%3C%21--%20%uD83D%uDCE6%20Add-on%20Falling%20Wedge%20Detector%20--%3E%0A%3Cdiv%20id%3D%22wedgeStatus%22%20style%3D%22color%3A%20lime%3B%20font-family%3A%20monospace%3B%20padding%3A%2010px%3B%22%3E%0A%20%20%u23F3%20Waiting%20for%20Falling%20Wedge...%0A%3C/div%3E%0A%0A%3Cscript%3E%0A%20%20%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20const%20status%20%3D%20document.getElementById%28%22wedgeStatus%22%29%3B%0A%20%20%20%20let%20candles%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20//%20%uD83D%uDCCC%20Main%20Detection%20Logic%0A%20%20%20%20function%20detectFallingWedge%28data%29%20%7B%0A%20%20%20%20%20%20if%20%28%21Array.isArray%28data%29%20%7C%7C%20data.length%20%3C%2020%29%20return%3B%0A%0A%20%20%20%20%20%20const%20recent%20%3D%20data.slice%28-20%29%3B%0A%20%20%20%20%20%20const%20highs%20%3D%20recent.map%28c%20%3D%3E%20c.high%29%3B%0A%20%20%20%20%20%20const%20lows%20%3D%20recent.map%28c%20%3D%3E%20c.low%29%3B%0A%0A%20%20%20%20%20%20let%20lowerHighs%20%3D%200%3B%0A%20%20%20%20%20%20let%20lowerLows%20%3D%200%3B%0A%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%201%3B%20i%20%3C%20highs.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28highs%5Bi%5D%20%3C%20highs%5Bi%20-%201%5D%29%20lowerHighs++%3B%0A%20%20%20%20%20%20%20%20if%20%28lows%5Bi%5D%20%3C%20lows%5Bi%20-%201%5D%29%20lowerLows++%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20isFallingWedge%20%3D%20lowerHighs%20%3E%2012%20%26%26%20lowerLows%20%3E%2012%3B%0A%20%20%20%20%20%20const%20breakout%20%3D%20recent%5Brecent.length%20-%201%5D.close%20%3E%20highs%5Bhighs.length%20-%202%5D%3B%0A%0A%20%20%20%20%20%20if%20%28isFallingWedge%20%26%26%20breakout%29%20%7B%0A%20%20%20%20%20%20%20%20const%20entry%20%3D%20recent%5Brecent.length%20-%201%5D.close%3B%0A%20%20%20%20%20%20%20%20const%20msg%20%3D%20%60%uD83D%uDE80%20Falling%20Wedge%20Breakout%20Detected%5Cn%uD83D%uDCCD%20Entry%3A%20%24%24%7Bentry.toFixed%282%29%7D%5Cn%uD83D%uDCC9%20Pattern%3A%20Falling%20Wedge%60%3B%0A%20%20%20%20%20%20%20%20alert%28msg%29%3B%0A%20%20%20%20%20%20%20%20status.textContent%20%3D%20msg%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20status.textContent%20%3D%20%22%u23F3%20Waiting%20for%20Falling%20Wedge...%22%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20%uD83E%uDDE0%20Candle%20Receiver%20%28WebSocket-ready%29%0A%20%20%20%20window.pushCandleToWedgeDetector%20%3D%20function%20%28candle%29%20%7B%0A%20%20%20%20%20%20candles.push%28candle%29%3B%0A%20%20%20%20%20%20if%20%28candles.length%20%3E%20100%29%20candles.shift%28%29%3B%20//%20Limit%20history%0A%0A%20%20%20%20%20%20detectFallingWedge%28candles%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20//%20%u2705%20Optional%3A%20Simulated%20feed%20for%20testing%0A%20%20%20%20if%20%28window.location.href.includes%28%22test%22%29%29%20%7B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%2039%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20window.pushCandleToWedgeDetector%28%7B%0A%20%20%20%20%20%20%20%20%20%20high%3A%20120%20-%20i%20*%200.4%2C%0A%20%20%20%20%20%20%20%20%20%20low%3A%20100%20-%20i%20*%200.4%2C%0A%20%20%20%20%20%20%20%20%20%20open%3A%20110%20-%20i%20*%200.3%2C%0A%20%20%20%20%20%20%20%20%20%20close%3A%20110%20-%20i%20*%200.3%2C%0A%20%20%20%20%20%20%20%20%20%20volume%3A%201000%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20//%20Breakout%20candle%0A%20%20%20%20%20%20window.pushCandleToWedgeDetector%28%7B%0A%20%20%20%20%20%20%20%20high%3A%20125%2C%0A%20%20%20%20%20%20%20%20low%3A%20123%2C%0A%20%20%20%20%20%20%20%20open%3A%20124%2C%0A%20%20%20%20%20%20%20%20close%3A%20130%2C%0A%20%20%20%20%20%20%20%20volume%3A%201500%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%29%28%29%3B%0A%3C/script%3E%0A%0A%3C%21DOCTYPE%20html%3E%0A%3Chtml%3E%0A%20%20%3Cbody%20style%3D%22background%3A%20%23000%3B%20color%3A%20%230f0%3B%20font-family%3A%20monospace%3B%22%3E%0A%20%20%20%20%3Cpre%20id%3D%22output%22%3E%u23F3%20Waiting%20for%20Cup%20and%20Handle%20pattern...%3C/pre%3E%0A%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20const%20output%20%3D%20document.getElementById%28%22output%22%29%3B%0A%20%20%20%20%20%20let%20candles%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20//%20%uD83D%uDCE1%20Connect%20to%20Binance%20WebSocket%20%28ETHUSDT%201m%20candles%29%0A%20%20%20%20%20%20const%20socket%20%3D%20new%20WebSocket%28%22wss%3A//stream.binance.com%3A9443/ws/ethusdt@kline_1m%22%29%3B%0A%0A%20%20%20%20%20%20socket.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20k%20%3D%20JSON.parse%28event.data%29.k%3B%0A%20%20%20%20%20%20%20%20const%20candle%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20start%3A%20k.t%20/%201000%2C%0A%20%20%20%20%20%20%20%20%20%20open%3A%20parseFloat%28k.o%29%2C%0A%20%20%20%20%20%20%20%20%20%20high%3A%20parseFloat%28k.h%29%2C%0A%20%20%20%20%20%20%20%20%20%20low%3A%20parseFloat%28k.l%29%2C%0A%20%20%20%20%20%20%20%20%20%20close%3A%20parseFloat%28k.c%29%2C%0A%20%20%20%20%20%20%20%20%20%20volume%3A%20parseFloat%28k.v%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20candles.push%28candle%29%3B%0A%20%20%20%20%20%20%20%20if%20%28candles.length%20%3E%20100%29%20candles.shift%28%29%3B%20//%20Keep%20last%20100%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20function%20detectCupAndHandle%28index%29%20%7B%0A%20%20%20%20%20%20%20%20const%20lookback%20%3D%2040%3B%0A%20%20%20%20%20%20%20%20if%20%28candles.length%20%3C%20lookback%20%7C%7C%20index%20%3C%20lookback%29%20return%20false%3B%0A%0A%20%20%20%20%20%20%20%20const%20slice%20%3D%20candles.slice%28index%20-%20lookback%2C%20index%29%3B%0A%20%20%20%20%20%20%20%20const%20lows%20%3D%20slice.map%28c%20%3D%3E%20c.low%29%3B%0A%20%20%20%20%20%20%20%20const%20highs%20%3D%20slice.map%28c%20%3D%3E%20c.high%29%3B%0A%0A%20%20%20%20%20%20%20%20const%20leftHigh%20%3D%20highs%5B0%5D%3B%0A%20%20%20%20%20%20%20%20const%20midLow%20%3D%20Math.min%28...lows.slice%2810%2C%2025%29%29%3B%0A%20%20%20%20%20%20%20%20const%20rightHigh%20%3D%20highs%5Bhighs.length%20-%201%5D%3B%0A%0A%20%20%20%20%20%20%20%20const%20handleDip%20%3D%20Math.min%28...lows.slice%2830%2C%2038%29%29%3B%0A%20%20%20%20%20%20%20%20const%20handleRecovery%20%3D%20slice%5Bslice.length%20-%201%5D.close%3B%0A%0A%20%20%20%20%20%20%20%20const%20cupDepth%20%3D%20leftHigh%20-%20midLow%3B%0A%20%20%20%20%20%20%20%20const%20handleDepth%20%3D%20rightHigh%20-%20handleDip%3B%0A%0A%20%20%20%20%20%20%20%20const%20cupSymmetry%20%3D%20Math.abs%28leftHigh%20-%20rightHigh%29%20%3C%20leftHigh%20*%200.02%3B%0A%20%20%20%20%20%20%20%20const%20handleShallow%20%3D%20handleDepth%20%3C%20cupDepth%20*%200.5%3B%0A%20%20%20%20%20%20%20%20const%20breakout%20%3D%20handleRecovery%20%3E%20leftHigh%3B%0A%0A%20%20%20%20%20%20%20%20const%20volSlice%20%3D%20slice.map%28c%20%3D%3E%20c.volume%29%3B%0A%20%20%20%20%20%20%20%20const%20volDip%20%3D%20volSlice.slice%2810%2C%2025%29.reduce%28%28a%2C%20b%29%20%3D%3E%20a%20+%20b%2C%200%29%3B%0A%20%20%20%20%20%20%20%20const%20volRecovery%20%3D%20volSlice.slice%2830%29.reduce%28%28a%2C%20b%29%20%3D%3E%20a%20+%20b%2C%200%29%3B%0A%20%20%20%20%20%20%20%20const%20volSurge%20%3D%20volRecovery%20%3E%20volDip%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28cupSymmetry%20%26%26%20handleShallow%20%26%26%20breakout%20%26%26%20volSurge%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20time%20%3D%20new%20Date%28slice%5Bslice.length%20-%201%5D.start%20*%201000%29.toLocaleTimeString%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20msg%20%3D%20%60%u2615%20Cup%20and%20Handle%20Breakout%20Detected%20@%20%24%24%7BhandleRecovery.toFixed%282%29%7D%20%28%24%7Btime%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20output.textContent%20%3D%20msg%20+%20%22%5Cn%5Cn%22%20+%20output.textContent%3B%0A%20%20%20%20%20%20%20%20%20%20alert%28msg%29%3B%20//%20%uD83D%uDD14%20Real-time%20popup%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20//%20%uD83D%uDD01%20Check%20every%203%20seconds%0A%20%20%20%20%20%20setInterval%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20%28candles.length%20%3E%2050%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20detectCupAndHandle%28candles.length%20-%201%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%203000%29%3B%0A%20%20%20%20%3C/script%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A%0A%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%3Chead%3E%0A%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%20%3Ctitle%3EInverse%20Head%20%26%20Shoulders%20Detector%20%28Live%29%3C/title%3E%0A%20%20%3Cstyle%3E%0A%20%20%20%20body%20%7B%0A%20%20%20%20%20%20background-color%3A%20%23000%3B%0A%20%20%20%20%20%20color%3A%20lime%3B%0A%20%20%20%20%20%20font-family%3A%20monospace%3B%0A%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%7D%0A%20%20%20%20pre%20%7B%0A%20%20%20%20%20%20white-space%3A%20pre-wrap%3B%0A%20%20%20%20%20%20word-break%3A%20break-word%3B%0A%20%20%20%20%7D%0A%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%3Ch2%3E%uD83E%uDDE0%20Inverse%20Head%20%26%20Shoulders%20Pattern%20Detector%20%28Live%29%3C/h2%3E%0A%20%20%3Cpre%20id%3D%22output%22%3E%u23F3%20Waiting%20for%20pattern...%3C/pre%3E%0A%0A%20%20%3Cscript%3E%0A%20%20%20%20const%20output%20%3D%20document.getElementById%28%27output%27%29%3B%0A%20%20%20%20let%20candles%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20//%20%uD83D%uDCE1%20Connect%20to%20Binance%20WebSocket%20%28ETHUSDT%2C%201-minute%20candles%29%0A%20%20%20%20const%20socket%20%3D%20new%20WebSocket%28%22wss%3A//stream.binance.com%3A9443/ws/ethusdt@kline_1m%22%29%3B%0A%0A%20%20%20%20socket.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20k%20%3D%20JSON.parse%28event.data%29.k%3B%0A%20%20%20%20%20%20const%20candle%20%3D%20%7B%0A%20%20%20%20%20%20%20%20start%3A%20k.t%20/%201000%2C%0A%20%20%20%20%20%20%20%20open%3A%20parseFloat%28k.o%29%2C%0A%20%20%20%20%20%20%20%20high%3A%20parseFloat%28k.h%29%2C%0A%20%20%20%20%20%20%20%20low%3A%20parseFloat%28k.l%29%2C%0A%20%20%20%20%20%20%20%20close%3A%20parseFloat%28k.c%29%2C%0A%20%20%20%20%20%20%20%20volume%3A%20parseFloat%28k.v%29%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20candles.push%28candle%29%3B%0A%20%20%20%20%20%20if%20%28candles.length%20%3E%20100%29%20candles.shift%28%29%3B%20//%20keep%20last%20100%20candles%20only%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20//%20%uD83D%uDD0D%20Inverse%20Head%20and%20Shoulders%20Detection%20Logic%0A%20%20%20%20function%20detectInverseHeadAndShoulders%28data%29%20%7B%0A%20%20%20%20%20%20if%20%28%21Array.isArray%28data%29%20%7C%7C%20data.length%20%3C%2050%29%20return%20null%3B%0A%0A%20%20%20%20%20%20const%20recent%20%3D%20data.slice%28-30%29%3B%0A%20%20%20%20%20%20const%20lows%20%3D%20recent.map%28c%20%3D%3E%20c.low%29%3B%0A%0A%20%20%20%20%20%20const%20headIndex%20%3D%20lows.indexOf%28Math.min%28...lows%29%29%3B%0A%20%20%20%20%20%20if%20%28headIndex%20%3C%203%20%7C%7C%20headIndex%20%3E%20lows.length%20-%204%29%20return%20null%3B%0A%0A%20%20%20%20%20%20const%20leftShoulder%20%3D%20Math.min%28...lows.slice%280%2C%20headIndex%29%29%3B%0A%20%20%20%20%20%20const%20rightShoulder%20%3D%20Math.min%28...lows.slice%28headIndex%20+%201%29%29%3B%0A%20%20%20%20%20%20const%20head%20%3D%20lows%5BheadIndex%5D%3B%0A%0A%20%20%20%20%20%20const%20validShoulders%20%3D%20leftShoulder%20%3E%20head%20%26%26%20rightShoulder%20%3E%20head%3B%0A%20%20%20%20%20%20const%20shouldersSimilar%20%3D%20Math.abs%28leftShoulder%20-%20rightShoulder%29%20%3C%20head%20*%200.03%3B%0A%0A%20%20%20%20%20%20const%20necklineLeft%20%3D%20recent%5B0%5D.high%3B%0A%20%20%20%20%20%20const%20necklineRight%20%3D%20recent%5Brecent.length%20-%201%5D.high%3B%0A%20%20%20%20%20%20const%20neckline%20%3D%20%28necklineLeft%20+%20necklineRight%29%20/%202%3B%0A%0A%20%20%20%20%20%20const%20breakout%20%3D%20recent%5Brecent.length%20-%201%5D.close%20%3E%20neckline%3B%0A%0A%20%20%20%20%20%20if%20%28validShoulders%20%26%26%20shouldersSimilar%20%26%26%20breakout%29%20%7B%0A%20%20%20%20%20%20%20%20const%20entry%20%3D%20recent%5Brecent.length%20-%201%5D.close%3B%0A%20%20%20%20%20%20%20%20const%20time%20%3D%20new%20Date%28recent%5Brecent.length%20-%201%5D.start%20*%201000%29.toLocaleTimeString%28%29%3B%0A%20%20%20%20%20%20%20%20const%20msg%20%3D%20%60%uD83D%uDCA5%20Inverse%20H%26S%20Breakout%20Detected%20%28%24%7Btime%7D%29%5Cn%uD83D%uDCCD%20Entry%3A%20%24%24%7Bentry%7D%5Cn%uD83E%uDDE0%20Neckline%3A%20%24%24%7Bneckline.toFixed%282%29%7D%5Cn%uD83D%uDC42%20Shoulders%3A%20%24%24%7BleftShoulder.toFixed%282%29%7D%20/%20%24%24%7BrightShoulder.toFixed%282%29%7D%5Cn%uD83D%uDD73%uFE0F%20Head%3A%20%24%24%7Bhead.toFixed%282%29%7D%5Cn%60%3B%0A%20%20%20%20%20%20%20%20output.textContent%20%3D%20msg%20+%20%27%5Cn%27%20+%20output.textContent%3B%0A%20%20%20%20%20%20%20%20alert%28msg%29%3B%20//%20%uD83D%uDD14%20Pop-up%20alert%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20%uD83D%uDD01%20Scan%20every%208%20seconds%0A%20%20%20%20setInterval%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20%28candles.length%20%3E%2050%29%20%7B%0A%20%20%20%20%20%20%20%20detectInverseHeadAndShoulders%28candles%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%208000%29%3B%0A%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A%0A%3C%21DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%20%20%3Ctitle%3E%uD83D%uDCE1%20ETHUSDT%201m%20+%20Ascending%20Triangle%20Detector%3C/title%3E%0A%20%20%3Cstyle%3E%0A%20%20%20%20body%20%7B%0A%20%20%20%20%20%20background%3A%20%23000%3B%0A%20%20%20%20%20%20color%3A%20%230f0%3B%0A%20%20%20%20%20%20font-family%3A%20monospace%3B%0A%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%20%20display%3A%20grid%3B%0A%20%20%20%20%20%20grid-template-columns%3A%201fr%201fr%3B%0A%20%20%20%20%20%20gap%3A%2020px%3B%0A%20%20%20%20%7D%0A%20%20%20%20h2%20%7B%0A%20%20%20%20%20%20grid-column%3A%20span%202%3B%0A%20%20%20%20%20%20margin-bottom%3A%2010px%3B%0A%20%20%20%20%7D%0A%20%20%20%20pre%20%7B%0A%20%20%20%20%20%20white-space%3A%20pre-wrap%3B%0A%20%20%20%20%20%20word-break%3A%20break-word%3B%0A%20%20%20%20%20%20max-height%3A%2085vh%3B%0A%20%20%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20%20%20background%3A%20%23111%3B%0A%20%20%20%20%20%20padding%3A%2015px%3B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%230f0%3B%0A%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%7D%0A%20%20%20%20.indicators%20%7B%0A%20%20%20%20%20%20background%3A%20%23111%3B%0A%20%20%20%20%20%20padding%3A%2015px%3B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%230f0%3B%0A%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20line-height%3A%201.5%3B%0A%20%20%20%20%7D%0A%20%20%20%20.indicators%20h3%20%7B%0A%20%20%20%20%20%20color%3A%20%2300ffff%3B%0A%20%20%20%20%20%20margin-bottom%3A%205px%3B%0A%20%20%20%20%7D%0A%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%3Ch2%3E%uD83D%uDCE1%20ETHUSDT%201m%20Live%20+%20Ascending%20Triangle%20Detector%3C/h2%3E%0A%20%20%3Cpre%20id%3D%22output%22%3EConnecting...%3C/pre%3E%0A%20%20%3Cdiv%20class%3D%22indicators%22%20id%3D%22indicatorPanel%22%3ELoading%20indicators...%3C/div%3E%0A%20%20%3Cdiv%20id%3D%22triangleAlert%22%20style%3D%22color%3A%20cyan%3B%20font-family%3A%20monospace%3B%20padding%3A%2010px%3B%22%3E%0A%20%20%20%20%u23F3%20Waiting%20for%20Ascending%20Triangle%20breakout...%0A%20%20%3C/div%3E%0A%0A%20%20%3Cscript%3E%0A%20%20%20%20let%20candles%20%3D%20%5B%5D%3B%0A%20%20%20%20let%20triangleBuffer%20%3D%20%5B%5D%3B%0A%20%20%20%20let%20resistanceLevel%20%3D%20null%3B%0A%20%20%20%20let%20lastBreakoutCandleTime%20%3D%200%3B%0A%0A%20%20%20%20function%20detectAscendingTriangle%28data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%2020%29%20return%3B%0A%20%20%20%20%20%20const%20recent%20%3D%20data.slice%28-20%29%3B%0A%20%20%20%20%20%20const%20highs%20%3D%20recent.map%28c%20%3D%3E%20c.high%29%3B%0A%20%20%20%20%20%20const%20lows%20%3D%20recent.map%28c%20%3D%3E%20c.low%29%3B%0A%0A%20%20%20%20%20%20const%20top%20%3D%20Math.max%28...highs%29%3B%0A%20%20%20%20%20%20const%20topCount%20%3D%20highs.filter%28h%20%3D%3E%20Math.abs%28h%20-%20top%29%20%3C%20top%20*%200.0015%29.length%3B%0A%0A%20%20%20%20%20%20let%20higherLows%20%3D%20true%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%201%3B%20i%20%3C%20lows.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28lows%5Bi%5D%20%3C%20lows%5Bi%20-%201%5D%20*%200.995%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20higherLows%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28topCount%20%3E%3D%203%20%26%26%20higherLows%29%20%7B%0A%20%20%20%20%20%20%20%20resistanceLevel%20%3D%20top%3B%0A%20%20%20%20%20%20%20%20triangleBuffer.push%28%7B%20ts%3A%20Date.now%28%29%2C%20res%3A%20top%20%7D%29%3B%0A%20%20%20%20%20%20%20%20if%20%28triangleBuffer.length%20%3E%205%29%20triangleBuffer.shift%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20confirmBreakout%28candle%29%20%7B%0A%20%20%20%20%20%20if%20%28%21resistanceLevel%29%20return%20false%3B%0A%20%20%20%20%20%20const%20breakout%20%3D%20candle.close%20%3E%20resistanceLevel%20*%201.001%3B%0A%20%20%20%20%20%20const%20timeSinceLastAlert%20%3D%20Date.now%28%29%20-%20lastBreakoutCandleTime%3B%0A%20%20%20%20%20%20const%20cooldownPassed%20%3D%20timeSinceLastAlert%20%3E%2030000%3B%0A%20%20%20%20%20%20if%20%28breakout%20%26%26%20cooldownPassed%29%20%7B%0A%20%20%20%20%20%20%20%20lastBreakoutCandleTime%20%3D%20Date.now%28%29%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20output%20%3D%20document.getElementById%28%22output%22%29%3B%0A%20%20%20%20const%20alertBox%20%3D%20document.getElementById%28%22triangleAlert%22%29%3B%0A%0A%20%20%20%20function%20logLive%28k%2C%20isNew%29%20%7B%0A%20%20%20%20%20%20const%20ts%20%3D%20new%20Date%28k.start%20*%201000%29.toLocaleTimeString%28%29%3B%0A%20%20%20%20%20%20const%20delta%20%3D%20candles.length%20%3F%20%28k.close%20-%20candles%5Bcandles.length%20-%201%5D.close%29.toFixed%282%29%20%3A%20%270.00%27%3B%0A%20%20%20%20%20%20if%20%28isNew%29%20%7B%0A%20%20%20%20%20%20%20%20candles.push%28k%29%3B%0A%20%20%20%20%20%20%20%20if%20%28candles.length%20%3E%20150%29%20candles.shift%28%29%3B%0A%20%20%20%20%20%20%20%20detectAscendingTriangle%28candles%29%3B%0A%20%20%20%20%20%20%20%20if%20%28confirmBreakout%28k%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20msg%20%3D%20%60%uD83D%uDE80%20Ascending%20Triangle%20Breakout%21%5Cn%uD83D%uDCC8%20Price%3A%20%24%7Bk.close.toFixed%282%29%7D%5Cn%uD83D%uDCCD%20Resistance%3A%20%24%7BresistanceLevel.toFixed%282%29%7D%5Cn%u23F0%20Time%3A%20%24%7Bts%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20output.textContent%20%3D%20%60%uD83D%uDD14%20%24%7Bmsg%7D%5Cn%5Cn%60%20+%20output.textContent%3B%0A%20%20%20%20%20%20%20%20%20%20alert%28msg%29%3B%0A%20%20%20%20%20%20%20%20%20%20alertBox.textContent%20%3D%20%60%uD83D%uDE80%20Breakout%20Detected%20@%20%24%7Bk.close.toFixed%282%29%7D%21%60%3B%0A%20%20%20%20%20%20%20%20%20%20alertBox.style.color%20%3D%20%27lime%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20output.textContent%20%3D%20%60%uD83D%uDD52%20%24%7Bts%7D%20%7C%20Close%3A%20%24%7Bk.close%7D%20%7C%20%u2206%20%24%7Bdelta%7D%5Cn%60%20+%20output.textContent%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20socket%20%3D%20new%20WebSocket%28%22wss%3A//stream.bybit.com/v5/public/linear%22%29%3B%0A%20%20%20%20let%20lastCandleStart%20%3D%20null%3B%0A%0A%20%20%20%20socket.onopen%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20output.textContent%20%3D%20%22%u2705%20Connected%20to%20Bybit%20WebSocket%5Cn%5Cn%22%3B%0A%20%20%20%20%20%20socket.send%28JSON.stringify%28%7B%20op%3A%20%22subscribe%22%2C%20args%3A%20%5B%22kline.1.ETHUSDT%22%5D%20%7D%29%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20msg%20%3D%20JSON.parse%28event.data%29%3B%0A%20%20%20%20%20%20if%20%28msg.topic%20%3D%3D%3D%20%22kline.1.ETHUSDT%22%20%26%26%20msg.data%29%20%7B%0A%20%20%20%20%20%20%20%20const%20raw%20%3D%20Array.isArray%28msg.data%29%20%3F%20msg.data%5B0%5D%20%3A%20msg.data%3B%0A%20%20%20%20%20%20%20%20const%20k%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20start%3A%20Number%28raw.start%29%2C%0A%20%20%20%20%20%20%20%20%20%20open%3A%20Number%28raw.open%29%2C%0A%20%20%20%20%20%20%20%20%20%20high%3A%20Number%28raw.high%29%2C%0A%20%20%20%20%20%20%20%20%20%20low%3A%20Number%28raw.low%29%2C%0A%20%20%20%20%20%20%20%20%20%20close%3A%20Number%28raw.close%29%2C%0A%20%20%20%20%20%20%20%20%20%20volume%3A%20Number%28raw.volume%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20const%20isNew%20%3D%20k.start%20%21%3D%3D%20lastCandleStart%3B%0A%20%20%20%20%20%20%20%20if%20%28isNew%29%20lastCandleStart%20%3D%20k.start%3B%0A%20%20%20%20%20%20%20%20logLive%28k%2C%20isNew%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onerror%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20output.textContent%20%3D%20%22%u274C%20WebSocket%20Error%5Cn%5Cn%22%20+%20output.textContent%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onclose%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20output.textContent%20%3D%20%22%u26A0%uFE0F%20WebSocket%20Closed%5Cn%5Cn%22%20+%20output.textContent%3B%0A%20%20%20%20%7D%3B%0A%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A%0A%3C%21DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%20%20%3Ctitle%3E%uD83D%uDCE1%20ETHUSDT%201m%20+%20Triple%20Bottom%20Detector%3C/title%3E%0A%20%20%3Cstyle%3E%0A%20%20%20%20body%20%7B%0A%20%20%20%20%20%20background%3A%20%23000%3B%0A%20%20%20%20%20%20color%3A%20%230f0%3B%0A%20%20%20%20%20%20font-family%3A%20monospace%3B%0A%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%7D%0A%20%20%20%20%23output%20%7B%0A%20%20%20%20%20%20white-space%3A%20pre-wrap%3B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%230f0%3B%0A%20%20%20%20%20%20padding%3A%2010px%3B%0A%20%20%20%20%20%20height%3A%2070vh%3B%0A%20%20%20%20%20%20overflow-y%3A%20scroll%3B%0A%20%20%20%20%20%20background%3A%20%23111%3B%0A%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%7D%0A%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%3Ch2%3E%uD83D%uDCC9%20Live%20ETHUSDT%20+%20Triple%20Bottom%20Long%20Entry%20Alerts%3C/h2%3E%0A%20%20%3Cdiv%20id%3D%22output%22%3E%u23F3%20Waiting%20for%20candles...%3C/div%3E%0A%0A%20%20%3Cscript%3E%0A%20%20%20%20const%20output%20%3D%20document.getElementById%28%22output%22%29%3B%0A%20%20%20%20const%20socket%20%3D%20new%20WebSocket%28%22wss%3A//stream.bybit.com/v5/public/linear%22%29%3B%0A%20%20%20%20let%20candles%20%3D%20%5B%5D%3B%0A%20%20%20%20let%20lastCandleStart%20%3D%20null%3B%0A%0A%20%20%20%20socket.onopen%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20output.textContent%20+%3D%20%22%5Cn%u2705%20Connected%20to%20WebSocket...%5Cn%22%3B%0A%20%20%20%20%20%20socket.send%28JSON.stringify%28%7B%20op%3A%20%22subscribe%22%2C%20args%3A%20%5B%22kline.1.ETHUSDT%22%5D%20%7D%29%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20msg%20%3D%20JSON.parse%28event.data%29%3B%0A%20%20%20%20%20%20if%20%28msg.topic%20%3D%3D%3D%20%22kline.1.ETHUSDT%22%20%26%26%20msg.data%29%20%7B%0A%20%20%20%20%20%20%20%20const%20raw%20%3D%20msg.data%3B%0A%20%20%20%20%20%20%20%20const%20k%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20start%3A%20Number%28raw.start%29%2C%0A%20%20%20%20%20%20%20%20%20%20open%3A%20Number%28raw.open%29%2C%0A%20%20%20%20%20%20%20%20%20%20high%3A%20Number%28raw.high%29%2C%0A%20%20%20%20%20%20%20%20%20%20low%3A%20Number%28raw.low%29%2C%0A%20%20%20%20%20%20%20%20%20%20close%3A%20Number%28raw.close%29%2C%0A%20%20%20%20%20%20%20%20%20%20volume%3A%20Number%28raw.volume%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20const%20isNew%20%3D%20k.start%20%21%3D%3D%20lastCandleStart%3B%0A%20%20%20%20%20%20%20%20if%20%28isNew%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20lastCandleStart%20%3D%20k.start%3B%0A%20%20%20%20%20%20%20%20%20%20candles.push%28k%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28candles.length%20%3E%20150%29%20candles.shift%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20logCandle%28k%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20function%20logCandle%28k%29%20%7B%0A%20%20%20%20%20%20const%20time%20%3D%20new%20Date%28k.start%20*%201000%29.toLocaleTimeString%28%29%3B%0A%20%20%20%20%20%20output.textContent%20%3D%20%60%uD83D%uDD52%20%24%7Btime%7D%20%7C%20Open%3A%20%24%7Bk.open%7D%20%7C%20Low%3A%20%24%7Bk.low%7D%20%7C%20High%3A%20%24%7Bk.high%7D%20%7C%20Close%3A%20%24%7Bk.close%7D%5Cn%60%20+%20output.textContent%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20EMA%28period%2C%20data%29%20%7B%0A%20%20%20%20%20%20if%20%28data.length%20%3C%20period%29%20return%20null%3B%0A%20%20%20%20%20%20const%20k%20%3D%202%20/%20%28period%20+%201%29%3B%0A%20%20%20%20%20%20let%20ema%20%3D%20data.slice%280%2C%20period%29.reduce%28%28acc%2C%20d%29%20%3D%3E%20acc%20+%20d.close%2C%200%29%20/%20period%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%20period%3B%20i%20%3C%20data.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20ema%20%3D%20data%5Bi%5D.close%20*%20k%20+%20ema%20*%20%281%20-%20k%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20ema%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20detectTripleBottom%28candles%29%20%7B%0A%20%20%20%20%20%20if%20%28candles.length%20%3C%2020%29%20return%20false%3B%0A%20%20%20%20%20%20const%20lookback%20%3D%20candles.slice%28-20%29%3B%0A%20%20%20%20%20%20const%20lows%20%3D%20lookback.map%28c%20%3D%3E%20c.low%29%3B%0A%20%20%20%20%20%20const%20minLow%20%3D%20Math.min%28...lows%29%3B%0A%20%20%20%20%20%20const%20tolerance%20%3D%20minLow%20*%200.002%3B%20//%200.2%25%20range%0A%0A%20%20%20%20%20%20const%20bottoms%20%3D%20lookback.filter%28c%20%3D%3E%20Math.abs%28c.low%20-%20minLow%29%20%3C%3D%20tolerance%29%3B%0A%20%20%20%20%20%20if%20%28bottoms.length%20%3C%203%29%20return%20false%3B%0A%0A%20%20%20%20%20%20const%20idxs%20%3D%20bottoms.map%28b%20%3D%3E%20lookback.indexOf%28b%29%29%3B%0A%20%20%20%20%20%20const%20uniqueIdxs%20%3D%20%5B...new%20Set%28idxs%29%5D%3B%0A%0A%20%20%20%20%20%20if%20%28%0A%20%20%20%20%20%20%20%20uniqueIdxs.length%20%3E%3D%203%20%26%26%0A%20%20%20%20%20%20%20%20%28uniqueIdxs%5B1%5D%20-%20uniqueIdxs%5B0%5D%29%20%3E%3D%202%20%26%26%0A%20%20%20%20%20%20%20%20%28uniqueIdxs%5B2%5D%20-%20uniqueIdxs%5B1%5D%29%20%3E%3D%202%0A%20%20%20%20%20%20%29%20%7B%0A%20%20%20%20%20%20%20%20const%20latest%20%3D%20lookback%5Blookback.length%20-%201%5D%3B%0A%20%20%20%20%20%20%20%20const%20ema%20%3D%20EMA%2814%2C%20candles%29%3B%0A%20%20%20%20%20%20%20%20if%20%28latest.close%20%3E%20latest.open%20%26%26%20latest.close%20%3E%20ema%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20alert%28%60%uD83D%uDD14%20TRIPLE%20BOTTOM%20DETECTED%21%5CnGood%20Long%20Entry%20at%20%7E%24%24%7Blatest.close.toFixed%282%29%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20output.textContent%20%3D%20%60%uD83D%uDEA8%20Triple%20Bottom%20Confirmed%20@%20%24%7Blatest.close%7D%5Cn%60%20+%20output.textContent%3B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setInterval%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20%28candles.length%20%3E%3D%2020%29%20detectTripleBottom%28candles%29%3B%0A%20%20%20%20%7D%2C%203000%29%3B%0A%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A%3Cpre%20id%3D%22output%22%3E%u23F3%20Waiting%20for%20Bullish%20Flag%20breakout...%3C/pre%3E%0A%0A%3Cscript%3E%0A%20%20const%20output%20%3D%20document.getElementById%28%22output%22%29%3B%0A%20%20let%20candles%20%3D%20%5B%5D%3B%0A%0A%20%20const%20socket%20%3D%20new%20WebSocket%28%22wss%3A//stream.bybit.com/v5/public/linear%22%29%3B%0A%0A%20%20socket.onopen%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20output.textContent%20%3D%20%22%u2705%20Connected%20to%20Bybit%5Cn%22%3B%0A%20%20%20%20socket.send%28JSON.stringify%28%7B%20op%3A%20%22subscribe%22%2C%20args%3A%20%5B%22kline.1.ETHUSDT%22%5D%20%7D%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20socket.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20const%20msg%20%3D%20JSON.parse%28event.data%29%3B%0A%20%20%20%20if%20%28msg.topic%20%3D%3D%3D%20%22kline.1.ETHUSDT%22%20%26%26%20msg.data%29%20%7B%0A%20%20%20%20%20%20const%20raw%20%3D%20Array.isArray%28msg.data%29%20%3F%20msg.data%5B0%5D%20%3A%20msg.data%3B%0A%20%20%20%20%20%20const%20candle%20%3D%20%7B%0A%20%20%20%20%20%20%20%20open%3A%20parseFloat%28raw.open%29%2C%0A%20%20%20%20%20%20%20%20high%3A%20parseFloat%28raw.high%29%2C%0A%20%20%20%20%20%20%20%20low%3A%20parseFloat%28raw.low%29%2C%0A%20%20%20%20%20%20%20%20close%3A%20parseFloat%28raw.close%29%2C%0A%20%20%20%20%20%20%20%20volume%3A%20parseFloat%28raw.volume%29%2C%0A%20%20%20%20%20%20%20%20start%3A%20parseInt%28raw.start%29%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20candles.push%28candle%29%3B%0A%20%20%20%20%20%20if%20%28candles.length%20%3E%20100%29%20candles.shift%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20function%20detectBullishFlag%28index%29%20%7B%0A%20%20%20%20const%20lookback%20%3D%2020%3B%0A%20%20%20%20const%20slice%20%3D%20candles.slice%28index%20-%20lookback%2C%20index%29%3B%0A%20%20%20%20if%20%28slice.length%20%3C%20lookback%29%20return%20false%3B%0A%0A%20%20%20%20const%20first%20%3D%20slice%5B0%5D%3B%0A%20%20%20%20const%20last%20%3D%20slice%5Bslice.length%20-%201%5D%3B%0A%20%20%20%20const%20priceChange%20%3D%20%28%28last.close%20-%20first.open%29%20/%20first.open%29%20*%20100%3B%0A%20%20%20%20if%20%28priceChange%20%3C%202%29%20return%20false%3B%0A%0A%20%20%20%20const%20highs%20%3D%20slice.map%28c%20%3D%3E%20c.high%29%3B%0A%20%20%20%20const%20lows%20%3D%20slice.map%28c%20%3D%3E%20c.low%29%3B%0A%20%20%20%20const%20isSlopingDown%20%3D%20highs%5B0%5D%20%3E%20highs%5Bhighs.length%20-%201%5D%20%26%26%20lows%5B0%5D%20%3E%20lows%5Blows.length%20-%201%5D%3B%0A%0A%20%20%20%20const%20volumes%20%3D%20slice.map%28c%20%3D%3E%20c.volume%29%3B%0A%20%20%20%20const%20volContracting%20%3D%20volumes%5B0%5D%20%3E%20volumes%5Bvolumes.length%20-%201%5D%3B%0A%0A%20%20%20%20const%20breakout%20%3D%20candles%5Bindex%5D%3B%0A%20%20%20%20const%20breakoutSignal%20%3D%20breakout.close%20%3E%20last.high%20%26%26%20breakout.volume%20%3E%20last.volume%3B%0A%0A%20%20%20%20if%20%28isSlopingDown%20%26%26%20volContracting%20%26%26%20breakoutSignal%29%20%7B%0A%20%20%20%20%20%20const%20time%20%3D%20new%20Date%28breakout.start%20*%201000%29.toLocaleTimeString%28%29%3B%0A%20%20%20%20%20%20const%20msg%20%3D%20%60%uD83D%uDE80%20Bullish%20Flag%20Breakout%20Detected%20@%20%24%7Bbreakout.close%7D%20%28%24%7Btime%7D%29%60%3B%0A%20%20%20%20%20%20output.textContent%20%3D%20msg%20+%20%22%5Cn%5Cn%22%20+%20output.textContent%3B%0A%20%20%20%20%20%20alert%28msg%29%3B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%0A%20%20setInterval%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20if%20%28candles.length%20%3E%2040%29%20%7B%0A%20%20%20%20%20%20detectBullishFlag%28candles.length%20-%201%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%202000%29%3B%0A%3C/script%3E%0A%0A%3C%21DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%20%20%3Ctitle%3E%uD83D%uDCE1%20Bullish%20Pennant%20Live%20Detector%3C/title%3E%0A%20%20%3Cstyle%3E%0A%20%20%20%20body%20%7B%0A%20%20%20%20%20%20background%3A%20%23000%3B%0A%20%20%20%20%20%20color%3A%20%230f0%3B%0A%20%20%20%20%20%20font-family%3A%20monospace%3B%0A%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%7D%0A%20%20%20%20pre%20%7B%0A%20%20%20%20%20%20white-space%3A%20pre-wrap%3B%0A%20%20%20%20%20%20word-break%3A%20break-word%3B%0A%20%20%20%20%20%20background%3A%20%23111%3B%0A%20%20%20%20%20%20border%3A%201px%20solid%20%230f0%3B%0A%20%20%20%20%20%20padding%3A%2015px%3B%0A%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20max-height%3A%2090vh%3B%0A%20%20%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20%7D%0A%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%3Ch2%3E%uD83D%uDCE1%20Live%20Bullish%20Pennant%20Detector%20%28Bybit%201m%29%3C/h2%3E%0A%20%20%3Cpre%20id%3D%22output%22%3E%u23F3%20Connecting...%3C/pre%3E%0A%0A%20%20%3Cscript%3E%0A%20%20%20%20const%20output%20%3D%20document.getElementById%28%22output%22%29%3B%0A%20%20%20%20const%20candles%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20//%20%u26D3%uFE0F%20Connect%20to%20Bybit%20WebSocket%0A%20%20%20%20const%20socket%20%3D%20new%20WebSocket%28%22wss%3A//stream.bybit.com/v5/public/linear%22%29%3B%0A%0A%20%20%20%20socket.onopen%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20output.textContent%20%3D%20%22%u2705%20Connected%20to%20Bybit%20WebSocket%5Cn%22%3B%0A%20%20%20%20%20%20socket.send%28JSON.stringify%28%7B%20op%3A%20%22subscribe%22%2C%20args%3A%20%5B%22kline.1.ETHUSDT%22%5D%20%7D%29%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20msg%20%3D%20JSON.parse%28event.data%29%3B%0A%20%20%20%20%20%20if%20%28msg.topic%20%3D%3D%3D%20%22kline.1.ETHUSDT%22%20%26%26%20msg.data%29%20%7B%0A%20%20%20%20%20%20%20%20const%20raw%20%3D%20Array.isArray%28msg.data%29%20%3F%20msg.data%5B0%5D%20%3A%20msg.data%3B%0A%20%20%20%20%20%20%20%20const%20candle%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20start%3A%20Math.floor%28raw.start%29%2C%0A%20%20%20%20%20%20%20%20%20%20open%3A%20parseFloat%28raw.open%29%2C%0A%20%20%20%20%20%20%20%20%20%20high%3A%20parseFloat%28raw.high%29%2C%0A%20%20%20%20%20%20%20%20%20%20low%3A%20parseFloat%28raw.low%29%2C%0A%20%20%20%20%20%20%20%20%20%20close%3A%20parseFloat%28raw.close%29%2C%0A%20%20%20%20%20%20%20%20%20%20volume%3A%20parseFloat%28raw.volume%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20const%20isNew%20%3D%20candles.length%20%3D%3D%3D%200%20%7C%7C%20candle.start%20%21%3D%3D%20candles%5Bcandles.length%20-%201%5D.start%3B%0A%20%20%20%20%20%20%20%20if%20%28isNew%29%20candles.push%28candle%29%3B%0A%20%20%20%20%20%20%20%20if%20%28candles.length%20%3E%20150%29%20candles.shift%28%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28candles.length%20%3E%2040%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20detectBullishPennant%28candles.length%20-%201%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20function%20detectBullishPennant%28index%29%20%7B%0A%20%20%20%20%20%20const%20lookback%20%3D%2020%3B%0A%20%20%20%20%20%20const%20slice%20%3D%20candles.slice%28index%20-%20lookback%2C%20index%29%3B%0A%20%20%20%20%20%20if%20%28slice.length%20%3C%20lookback%29%20return%20false%3B%0A%0A%20%20%20%20%20%20const%20first%20%3D%20slice%5B0%5D%3B%0A%20%20%20%20%20%20const%20last%20%3D%20slice%5Bslice.length%20-%201%5D%3B%0A%20%20%20%20%20%20const%20priceChange%20%3D%20%28%28last.close%20-%20first.open%29%20/%20first.open%29%20*%20100%3B%0A%20%20%20%20%20%20if%20%28priceChange%20%3C%202%29%20return%20false%3B%20//%20needs%202%25%20flagpole%0A%0A%20%20%20%20%20%20const%20highs%20%3D%20slice.map%28c%20%3D%3E%20c.high%29%3B%0A%20%20%20%20%20%20const%20lows%20%3D%20slice.map%28c%20%3D%3E%20c.low%29%3B%0A%20%20%20%20%20%20const%20highTrend%20%3D%20highs%5B0%5D%20-%20highs%5Bhighs.length%20-%201%5D%3B%0A%20%20%20%20%20%20const%20lowTrend%20%3D%20lows%5Blows.length%20-%201%5D%20-%20lows%5B0%5D%3B%0A%20%20%20%20%20%20const%20narrowing%20%3D%20highTrend%20%3E%200%20%26%26%20lowTrend%20%3E%200%3B%0A%0A%20%20%20%20%20%20const%20volumes%20%3D%20slice.map%28c%20%3D%3E%20c.volume%29%3B%0A%20%20%20%20%20%20const%20volTrend%20%3D%20volumes%5B0%5D%20%3E%20volumes%5Bvolumes.length%20-%201%5D%3B%0A%0A%20%20%20%20%20%20const%20breakout%20%3D%20candles%5Bindex%5D%3B%0A%20%20%20%20%20%20const%20breakoutStrength%20%3D%20breakout.close%20%3E%20last.high%20%26%26%20breakout.volume%20%3E%20last.volume%3B%0A%0A%20%20%20%20%20%20if%20%28narrowing%20%26%26%20volTrend%20%26%26%20breakoutStrength%29%20%7B%0A%20%20%20%20%20%20%20%20const%20time%20%3D%20new%20Date%28breakout.start%20*%201000%29.toLocaleTimeString%28%29%3B%0A%20%20%20%20%20%20%20%20const%20msg%20%3D%20%60%uD83D%uDE80%20Bullish%20Pennant%20Breakout%20Detected%20@%20%24%7Bbreakout.close.toFixed%282%29%7D%20%28%24%7Btime%7D%29%60%3B%0A%20%20%20%20%20%20%20%20output.textContent%20%3D%20msg%20+%20%22%5Cn%5Cn%22%20+%20output.textContent%3B%0A%20%20%20%20%20%20%20%20alert%28msg%29%3B%20//%20%uD83D%uDD14%20pop-up%20alert%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20socket.onerror%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20output.textContent%20%3D%20%22%u274C%20WebSocket%20Error%5Cn%22%20+%20output.textContent%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onclose%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20output.textContent%20%3D%20%22%u26A0%uFE0F%20WebSocket%20Closed%5Cn%22%20+%20output.textContent%3B%0A%20%20%20%20%7D%3B%0A%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A%0A%3C%21--%20%u2705%20Fibonacci%20Entry/Exit%20Add-on%20for%20ETHUSDT%201m%20Scalping%20%28Live%20Version%29%20--%3E%0A%3Cbody%3E%0A%20%20%3Cpre%20id%3D%22output%22%20style%3D%22color%3A%20lime%3B%20font-family%3A%20monospace%3B%20padding%3A%2010px%3B%22%3E%u23F3%20Initializing%20Fibonacci%20Add-on...%3C/pre%3E%0A%0A%20%20%3Cscript%3E%0A%20%20%20%20const%20fibOutput%20%3D%20document.getElementById%28%22output%22%29%3B%0A%0A%20%20%20%20let%20candles%20%3D%20%5B%5D%3B%0A%20%20%20%20let%20lastCandleTime%20%3D%200%3B%0A%0A%20%20%20%20function%20detectFibonacciEntryExit%28%29%20%7B%0A%20%20%20%20%20%20if%20%28candles.length%20%3C%20100%29%20return%3B%0A%20%20%20%20%20%20const%20slice%20%3D%20candles.slice%28-100%29%3B%0A%0A%20%20%20%20%20%20const%20swingLow%20%3D%20Math.min%28...slice.map%28c%20%3D%3E%20c.low%29%29%3B%0A%20%20%20%20%20%20const%20swingHigh%20%3D%20Math.max%28...slice.map%28c%20%3D%3E%20c.high%29%29%3B%0A%0A%20%20%20%20%20%20const%20fib618%20%3D%20swingHigh%20-%20%28swingHigh%20-%20swingLow%29%20*%200.618%3B%0A%20%20%20%20%20%20const%20fib382%20%3D%20swingHigh%20-%20%28swingHigh%20-%20swingLow%29%20*%200.382%3B%0A%20%20%20%20%20%20const%20ext127%20%3D%20swingHigh%20+%20%28swingHigh%20-%20swingLow%29%20*%200.272%3B%0A%20%20%20%20%20%20const%20ext161%20%3D%20swingHigh%20+%20%28swingHigh%20-%20swingLow%29%20*%200.618%3B%0A%0A%20%20%20%20%20%20const%20current%20%3D%20candles%5Bcandles.length%20-%201%5D%3B%0A%20%20%20%20%20%20const%20lastClose%20%3D%20current.close%3B%0A%20%20%20%20%20%20const%20lastOpen%20%3D%20current.open%3B%0A%0A%20%20%20%20%20%20//%20Entry%20Zone%3A%200.618%20bounce%0A%20%20%20%20%20%20if%20%28lastOpen%20%3C%20fib618%20%26%26%20lastClose%20%3E%20fib618%29%20%7B%0A%20%20%20%20%20%20%20%20alert%28%22%uD83D%uDCC8%20Entry%20Signal%3A%200.618%20Fibonacci%20Retracement%20Bounce%20Detected%21%22%29%3B%0A%20%20%20%20%20%20%20%20fibOutput.textContent%20%3D%20%60%u2705%20Fib%20Entry%20@%200.618%3A%20%24%7BlastClose.toFixed%282%29%7D%5Cn%60%20+%20fibOutput.textContent%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20//%20Exit%20TP1%20Zone%3A%201.272%20extension%0A%20%20%20%20%20%20if%20%28lastClose%20%3E%3D%20ext127%20%26%26%20lastClose%20%3C%20ext161%29%20%7B%0A%20%20%20%20%20%20%20%20alert%28%22%uD83C%uDFAF%20Take%20Profit%20Zone%20Hit%3A%201.272%20Extension%22%29%3B%0A%20%20%20%20%20%20%20%20fibOutput.textContent%20%3D%20%60%uD83C%uDFAF%20Fib%20TP1%20Hit%20@%201.272%3A%20%24%7BlastClose.toFixed%282%29%7D%5Cn%60%20+%20fibOutput.textContent%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20//%20Exit%20TP2%20Zone%3A%201.618%20extension%0A%20%20%20%20%20%20if%20%28lastClose%20%3E%3D%20ext161%29%20%7B%0A%20%20%20%20%20%20%20%20alert%28%22%uD83C%uDFC1%20Full%20Take%20Profit%3A%201.618%20Extension%20Reached%22%29%3B%0A%20%20%20%20%20%20%20%20fibOutput.textContent%20%3D%20%60%uD83C%uDFC1%20Fib%20TP2%20Hit%20@%201.618%3A%20%24%7BlastClose.toFixed%282%29%7D%5Cn%60%20+%20fibOutput.textContent%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20%uD83D%uDD34%20Live%20WebSocket%20for%20ETHUSDT%201m%0A%20%20%20%20const%20socket%20%3D%20new%20WebSocket%28%22wss%3A//stream.bybit.com/v5/public/linear%22%29%3B%0A%0A%20%20%20%20socket.onopen%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20socket.send%28JSON.stringify%28%7B%20op%3A%20%22subscribe%22%2C%20args%3A%20%5B%22kline.1.ETHUSDT%22%5D%20%7D%29%29%3B%0A%20%20%20%20%20%20fibOutput.textContent%20%3D%20%22%u2705%20Connected%20to%20Bybit%20WebSocket%20%28Fibonacci%20Add-on%29%5Cn%5Cn%22%20+%20fibOutput.textContent%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20socket.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20msg%20%3D%20JSON.parse%28event.data%29%3B%0A%20%20%20%20%20%20if%20%28msg.topic%20%3D%3D%3D%20%22kline.1.ETHUSDT%22%20%26%26%20msg.data%29%20%7B%0A%20%20%20%20%20%20%20%20const%20raw%20%3D%20Array.isArray%28msg.data%29%20%3F%20msg.data%5B0%5D%20%3A%20msg.data%3B%0A%20%20%20%20%20%20%20%20const%20k%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20start%3A%20Number%28raw.start%29%2C%0A%20%20%20%20%20%20%20%20%20%20open%3A%20Number%28raw.open%29%2C%0A%20%20%20%20%20%20%20%20%20%20high%3A%20Number%28raw.high%29%2C%0A%20%20%20%20%20%20%20%20%20%20low%3A%20Number%28raw.low%29%2C%0A%20%20%20%20%20%20%20%20%20%20close%3A%20Number%28raw.close%29%2C%0A%20%20%20%20%20%20%20%20%20%20volume%3A%20Number%28raw.volume%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20const%20isNewCandle%20%3D%20k.start%20%21%3D%3D%20lastCandleTime%3B%0A%20%20%20%20%20%20%20%20if%20%28isNewCandle%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20candles.push%28k%29%3B%0A%20%20%20%20%20%20%20%20%20%20lastCandleTime%20%3D%20k.start%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28candles.length%20%3E%20200%29%20candles.shift%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20detectFibonacciEntryExit%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20Update%20current%20candle%0A%20%20%20%20%20%20%20%20%20%20candles%5Bcandles.length%20-%201%5D%20%3D%20k%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%3C/script%3E%0A%3C/body%3E%0A%0A%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%3Chead%3E%0A%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%20%3Ctitle%3E%uD83E%uDDE0%20ETHUSDT%201m%20Long%20Entry%20Detector%3C/title%3E%0A%20%20%3Cstyle%3E%0A%20%20%20%20body%20%7B%0A%20%20%20%20%20%20background-color%3A%20black%3B%0A%20%20%20%20%20%20color%3A%20lime%3B%0A%20%20%20%20%20%20font-family%3A%20monospace%3B%0A%20%20%20%20%20%20padding%3A%2015px%3B%0A%20%20%20%20%7D%0A%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%3Ch2%3E%uD83D%uDCCA%20ETHUSDT%201m%20%u2013%20Good%20Long%20Entry%20Alerts%3C/h2%3E%0A%20%20%3Cdiv%20id%3D%22log%22%3E%uD83D%uDD0C%20Connecting%20to%20Bybit%20WebSocket...%3C/div%3E%0A%0A%20%20%3Cscript%3E%0A%20%20%20%20const%20log%20%3D%20%28msg%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20t%20%3D%20new%20Date%28%29.toLocaleTimeString%28%29%3B%0A%20%20%20%20%20%20document.getElementById%28%27log%27%29.innerHTML%20+%3D%20%60%3Cbr%3E%5B%24%7Bt%7D%5D%20%24%7Bmsg%7D%60%3B%0A%20%20%20%20%20%20console.log%28%60%5B%24%7Bt%7D%5D%20%24%7Bmsg%7D%60%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20let%20candles%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20//%20Connect%20to%20Bybit%20ETHUSDT%201m%0A%20%20%20%20const%20ws%20%3D%20new%20WebSocket%28%22wss%3A//stream.bybit.com/v5/public/linear%22%29%3B%0A%20%20%20%20ws.onopen%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20log%28%22%u2705%20Connected%20to%20Bybit%22%29%3B%0A%20%20%20%20%20%20ws.send%28JSON.stringify%28%7B%0A%20%20%20%20%20%20%20%20op%3A%20%22subscribe%22%2C%0A%20%20%20%20%20%20%20%20args%3A%20%5B%22kline.1.ETHUSDT%22%5D%0A%20%20%20%20%20%20%7D%29%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20ws.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20json%20%3D%20JSON.parse%28event.data%29%3B%0A%20%20%20%20%20%20if%20%28json.topic%20%26%26%20json.topic.includes%28%22kline%22%29%20%26%26%20json.data.confirm%29%20%7B%0A%20%20%20%20%20%20%20%20const%20k%20%3D%20json.data%3B%0A%20%20%20%20%20%20%20%20const%20c%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20open%3A%20parseFloat%28k.open%29%2C%0A%20%20%20%20%20%20%20%20%20%20high%3A%20parseFloat%28k.high%29%2C%0A%20%20%20%20%20%20%20%20%20%20low%3A%20parseFloat%28k.low%29%2C%0A%20%20%20%20%20%20%20%20%20%20close%3A%20parseFloat%28k.close%29%2C%0A%20%20%20%20%20%20%20%20%20%20volume%3A%20parseFloat%28k.volume%29%2C%0A%20%20%20%20%20%20%20%20%20%20time%3A%20k.start%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20candles.push%28c%29%3B%0A%20%20%20%20%20%20%20%20if%20%28candles.length%20%3E%2050%29%20candles.shift%28%29%3B%0A%20%20%20%20%20%20%20%20detectLongEntry%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20function%20detectLongEntry%28%29%20%7B%0A%20%20%20%20%20%20if%20%28candles.length%20%3C%205%29%20return%3B%0A%0A%20%20%20%20%20%20const%20c%20%3D%20candles%5Bcandles.length%20-%201%5D%3B%0A%20%20%20%20%20%20const%20p%20%3D%20candles%5Bcandles.length%20-%202%5D%3B%0A%20%20%20%20%20%20const%20pp%20%3D%20candles%5Bcandles.length%20-%203%5D%3B%0A%20%20%20%20%20%20const%20cSize%20%3D%20c.high%20-%20c.low%3B%0A%20%20%20%20%20%20const%20cBody%20%3D%20Math.abs%28c.close%20-%20c.open%29%3B%0A%0A%20%20%20%20%20%20//%20%3D%3D%3D%20Candlestick%20Logic%20%3D%3D%3D%0A%20%20%20%20%20%20const%20isDoji%20%3D%20cBody%20/%20cSize%20%3C%200.1%3B%0A%20%20%20%20%20%20const%20isHammer%20%3D%20c.close%20%3E%20c.open%20%26%26%20%28c.low%20+%20cSize%20*%200.75%29%20%3C%20c.open%3B%0A%20%20%20%20%20%20const%20isInvHammer%20%3D%20c.close%20%3E%20c.open%20%26%26%20%28c.high%20-%20c.close%29%20%3C%20cSize%20*%200.25%3B%0A%20%20%20%20%20%20const%20isShootingStar%20%3D%20c.open%20%3E%20c.close%20%26%26%20%28c.high%20-%20c.open%29%20%3E%20cSize%20*%200.5%3B%0A%20%20%20%20%20%20const%20isSpinningTop%20%3D%20cBody%20/%20cSize%20%3E%200.2%20%26%26%20cBody%20/%20cSize%20%3C%200.4%3B%0A%20%20%20%20%20%20const%20isBullEngulf%20%3D%20p.close%20%3C%20p.open%20%26%26%20c.close%20%3E%20c.open%20%26%26%20c.open%20%3C%20p.close%20%26%26%20c.close%20%3E%20p.open%3B%0A%20%20%20%20%20%20const%20isBearEngulf%20%3D%20p.close%20%3E%20p.open%20%26%26%20c.close%20%3C%20c.open%20%26%26%20c.open%20%3E%20p.close%20%26%26%20c.close%20%3C%20p.open%3B%0A%20%20%20%20%20%20const%20isTweezerBottom%20%3D%20c.low%20%3D%3D%3D%20p.low%20%26%26%20c.close%20%3E%20c.open%3B%0A%20%20%20%20%20%20const%20isTweezerTop%20%3D%20c.high%20%3D%3D%3D%20p.high%20%26%26%20c.close%20%3C%20c.open%3B%0A%20%20%20%20%20%20const%20isMorningStar%20%3D%20pp.close%20%3E%20pp.open%20%26%26%20p.close%20%3C%20p.open%20%26%26%20c.close%20%3E%20%28p.open%20+%20p.close%29%20/%202%3B%0A%20%20%20%20%20%20const%20isEveningStar%20%3D%20pp.close%20%3C%20pp.open%20%26%26%20p.close%20%3E%20p.open%20%26%26%20c.close%20%3C%20%28p.open%20+%20p.close%29%20/%202%3B%0A%20%20%20%20%20%20const%20isThreeWhiteSoldiers%20%3D%20candles.slice%28-3%29.every%28%28x%2C%20i%2C%20arr%29%20%3D%3E%20x.close%20%3E%20x.open%20%26%26%20%28i%20%3D%3D%3D%200%20%7C%7C%20x.open%20%3E%20arr%5Bi%20-%201%5D.close%29%29%3B%0A%20%20%20%20%20%20const%20isThreeBlackCrows%20%3D%20candles.slice%28-3%29.every%28%28x%2C%20i%2C%20arr%29%20%3D%3E%20x.close%20%3C%20x.open%20%26%26%20%28i%20%3D%3D%3D%200%20%7C%7C%20x.open%20%3C%20arr%5Bi%20-%201%5D.close%29%29%3B%0A%20%20%20%20%20%20const%20isRisingThree%20%3D%20p.close%20%3E%20p.open%20%26%26%20c.close%20%3E%20p.close%20%26%26%20candles.slice%28-3%29.every%28x%20%3D%3E%20x.close%20%3C%20p.close%29%3B%0A%20%20%20%20%20%20const%20isFallingThree%20%3D%20p.close%20%3C%20p.open%20%26%26%20c.close%20%3C%20p.close%20%26%26%20candles.slice%28-3%29.every%28x%20%3D%3E%20x.close%20%3E%20p.close%29%3B%0A%20%20%20%20%20%20const%20isMarubozu%20%3D%20Math.abs%28c.open%20-%20c.low%29%20%3C%20cSize%20*%200.05%20%26%26%20Math.abs%28c.close%20-%20c.high%29%20%3C%20cSize%20*%200.05%3B%0A%0A%20%20%20%20%20%20//%20%3D%3D%3D%20Volume%20%26%20SMC%20Logic%20%3D%3D%3D%0A%20%20%20%20%20%20const%20bigVolume%20%3D%20c.volume%20%3E%20avgVolume%2810%29%20*%201.5%3B%0A%20%20%20%20%20%20const%20liquidityGrab%20%3D%20c.low%20%3C%20Math.min%28...candles.slice%28-5%29.map%28x%20%3D%3E%20x.low%29%29%20%26%26%20c.close%20%3E%20c.open%3B%0A%20%20%20%20%20%20const%20orderBlock%20%3D%20cBody%20/%20cSize%20%3E%200.6%20%26%26%20c.close%20%3E%20p.close%20%26%26%20bigVolume%3B%0A%20%20%20%20%20%20const%20fairValueGap%20%3D%20Math.abs%28c.open%20-%20p.close%29%20%3E%20cSize%20*%200.6%3B%0A%0A%20%20%20%20%20%20const%20goodLongEntry%20%3D%20%28%0A%20%20%20%20%20%20%20%20isDoji%20%7C%7C%20isHammer%20%7C%7C%20isInvHammer%20%7C%7C%20isBullEngulf%20%7C%7C%20isTweezerBottom%20%7C%7C%0A%20%20%20%20%20%20%20%20isMorningStar%20%7C%7C%20isThreeWhiteSoldiers%20%7C%7C%20isRisingThree%20%7C%7C%20isMarubozu%20%7C%7C%0A%20%20%20%20%20%20%20%20liquidityGrab%20%7C%7C%20orderBlock%20%7C%7C%20fairValueGap%0A%20%20%20%20%20%20%29%3B%0A%0A%20%20%20%20%20%20if%20%28goodLongEntry%29%20%7B%0A%20%20%20%20%20%20%20%20alert%28%22%uD83D%uDEA8%20GOOD%20LONG%20ENTRY%20DETECTED%20on%20ETHUSDT%21%22%29%3B%0A%20%20%20%20%20%20%20%20log%28%22%uD83D%uDCC8%20Pattern%20Signal%3A%20GOOD%20LONG%20ENTRY%22%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20avgVolume%28n%20%3D%2010%29%20%7B%0A%20%20%20%20%20%20const%20recent%20%3D%20candles.slice%28-n%29%3B%0A%20%20%20%20%20%20const%20sum%20%3D%20recent.reduce%28%28a%2C%20b%29%20%3D%3E%20a%20+%20b.volume%2C%200%29%3B%0A%20%20%20%20%20%20return%20sum%20/%20recent.length%20%7C%7C%201%3B%0A%20%20%20%20%7D%0A%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A%0A%3C%21--%20%uD83D%uDCE1%20Live%20Pattern%20Detector%20%28Bybit%20ETHUSDT%201m%29%20--%3E%0A%3Cdiv%20id%3D%22patternStatus%22%20style%3D%22color%3A%20lime%3B%20font-family%3A%20monospace%3B%20padding%3A%2010px%3B%22%3E%0A%20%20%u23F3%20Waiting%20for%20Bullish%20Pattern%20on%20ETHUSDT%201m...%0A%3C/div%3E%0A%0A%3Cscript%3E%0A%28%28%29%20%3D%3E%20%7B%0A%20%20const%20status%20%3D%20document.getElementById%28%22patternStatus%22%29%3B%0A%20%20let%20candles%20%3D%20%5B%5D%3B%0A%0A%20%20const%20ws%20%3D%20new%20WebSocket%28%22wss%3A//stream.bybit.com/v5/public/linear%22%29%3B%0A%0A%20%20ws.onopen%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20ws.send%28JSON.stringify%28%7B%0A%20%20%20%20%20%20op%3A%20%22subscribe%22%2C%0A%20%20%20%20%20%20args%3A%20%5B%22kline.1.ETHUSDT%22%5D%20//%20%u2705%20ETHUSDT%201m%20timeframe%0A%20%20%20%20%7D%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20ws.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20const%20data%20%3D%20JSON.parse%28event.data%29%3B%0A%20%20%20%20if%20%28%21data%20%7C%7C%20%21data.data%20%7C%7C%20%21data.data.kline%29%20return%3B%0A%20%20%20%20const%20k%20%3D%20data.data.kline%3B%0A%20%20%20%20const%20candle%20%3D%20%7B%0A%20%20%20%20%20%20time%3A%20k.start%2C%0A%20%20%20%20%20%20open%3A%20parseFloat%28k.open%29%2C%0A%20%20%20%20%20%20high%3A%20parseFloat%28k.high%29%2C%0A%20%20%20%20%20%20low%3A%20parseFloat%28k.low%29%2C%0A%20%20%20%20%20%20close%3A%20parseFloat%28k.close%29%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20candles.push%28candle%29%3B%0A%20%20%20%20if%20%28candles.length%20%3E%20100%29%20candles.shift%28%29%3B%0A%0A%20%20%20%20detectPatterns%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20function%20detectPatterns%28%29%20%7B%0A%20%20%20%20const%20len%20%3D%20candles.length%3B%0A%20%20%20%20if%20%28len%20%3C%2030%29%20return%3B%0A%0A%20%20%20%20const%20last%20%3D%20candles%5Blen%20-%201%5D%3B%0A%20%20%20%20const%20prev%20%3D%20candles%5Blen%20-%202%5D%3B%0A%0A%20%20%20%20//%20%uD83D%uDCC8%20Broadening%20Formation%0A%20%20%20%20const%20isBroadening%20%3D%20detectBroadening%28%29%3B%0A%20%20%20%20if%20%28isBroadening%20%26%26%20breakoutHappened%28%29%29%20%7B%0A%20%20%20%20%20%20alert%28%22%uD83D%uDCE2%20Broadening%20Formation%20Breakout%20-%20Good%20Long%20Entry%20on%20ETH%21%22%29%3B%0A%20%20%20%20%20%20status.innerText%20%3D%20%22%u2705%20Broadening%20Formation%20Detected%21%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20%u2615%20Rounding%20Bottom%0A%20%20%20%20const%20isRounding%20%3D%20detectRoundingBottom%28%29%3B%0A%20%20%20%20if%20%28isRounding%20%26%26%20last.close%20%3E%20prev.close%29%20%7B%0A%20%20%20%20%20%20alert%28%22%uD83D%uDCE2%20Rounding%20Bottom%20-%20Long%20Entry%20Triggered%20on%20ETH%21%22%29%3B%0A%20%20%20%20%20%20status.innerText%20%3D%20%22%u2705%20Rounding%20Bottom%20Detected%21%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20%uD83D%uDE80%20Parabolic%20Curve%0A%20%20%20%20const%20isParabolic%20%3D%20detectParabolic%28%29%3B%0A%20%20%20%20if%20%28isParabolic%29%20%7B%0A%20%20%20%20%20%20alert%28%22%uD83D%uDCE2%20Parabolic%20Curve%20Forming%20-%20Strong%20ETH%20Uptrend%21%22%29%3B%0A%20%20%20%20%20%20status.innerText%20%3D%20%22%u2705%20Parabolic%20Curve%20Detected%21%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20%uD83D%uDC8E%20Diamond%20Bottom%0A%20%20%20%20const%20isDiamond%20%3D%20detectDiamond%28%29%3B%0A%20%20%20%20if%20%28isDiamond%20%26%26%20last.close%20%3E%20prev.high%29%20%7B%0A%20%20%20%20%20%20alert%28%22%uD83D%uDCE2%20Diamond%20Bottom%20Breakout%20-%20Long%20Entry%20on%20ETH%21%22%29%3B%0A%20%20%20%20%20%20status.innerText%20%3D%20%22%u2705%20Diamond%20Bottom%20Detected%21%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20//%20------------------------%20PATTERN%20DETECTORS%20------------------------%0A%0A%20%20function%20detectBroadening%28%29%20%7B%0A%20%20%20%20const%20highs%20%3D%20candles.slice%28-20%29.map%28c%20%3D%3E%20c.high%29%3B%0A%20%20%20%20const%20lows%20%3D%20candles.slice%28-20%29.map%28c%20%3D%3E%20c.low%29%3B%0A%20%20%20%20const%20highVolatility%20%3D%20Math.max%28...highs%29%20-%20Math.min%28...lows%29%20%3E%200.02%20*%20highs%5B0%5D%3B%0A%20%20%20%20return%20highVolatility%3B%0A%20%20%7D%0A%0A%20%20function%20breakoutHappened%28%29%20%7B%0A%20%20%20%20const%20last%20%3D%20candles%5Bcandles.length%20-%201%5D%3B%0A%20%20%20%20const%20last20High%20%3D%20Math.max%28...candles.slice%28-20%29.map%28c%20%3D%3E%20c.high%29%29%3B%0A%20%20%20%20return%20last.close%20%3E%20last20High%3B%0A%20%20%7D%0A%0A%20%20function%20detectRoundingBottom%28%29%20%7B%0A%20%20%20%20const%20slice%20%3D%20candles.slice%28-20%29%3B%0A%20%20%20%20const%20mid%20%3D%20Math.floor%28slice.length%20/%202%29%3B%0A%20%20%20%20const%20left%20%3D%20slice.slice%280%2C%20mid%29.map%28c%20%3D%3E%20c.close%29%3B%0A%20%20%20%20const%20right%20%3D%20slice.slice%28mid%29.map%28c%20%3D%3E%20c.close%29%3B%0A%20%20%20%20const%20leftDown%20%3D%20left%5B0%5D%20%3E%20left%5Bleft.length%20-%201%5D%3B%0A%20%20%20%20const%20rightUp%20%3D%20right%5B0%5D%20%3C%20right%5Bright.length%20-%201%5D%3B%0A%20%20%20%20return%20leftDown%20%26%26%20rightUp%3B%0A%20%20%7D%0A%0A%20%20function%20detectParabolic%28%29%20%7B%0A%20%20%20%20const%20closes%20%3D%20candles.slice%28-10%29.map%28c%20%3D%3E%20c.close%29%3B%0A%20%20%20%20const%20diffs%20%3D%20closes.map%28%28v%2C%20i%2C%20arr%29%20%3D%3E%20i%20%3D%3D%3D%200%20%3F%200%20%3A%20v%20-%20arr%5Bi%20-%201%5D%29%3B%0A%20%20%20%20const%20acceleration%20%3D%20diffs.map%28%28v%2C%20i%2C%20arr%29%20%3D%3E%20i%20%3D%3D%3D%200%20%3F%200%20%3A%20v%20-%20arr%5Bi%20-%201%5D%29%3B%0A%20%20%20%20const%20avgAcc%20%3D%20acceleration.reduce%28%28a%2C%20b%29%20%3D%3E%20a%20+%20b%2C%200%29%20/%20acceleration.length%3B%0A%20%20%20%20return%20avgAcc%20%3E%200.2%3B%0A%20%20%7D%0A%0A%20%20function%20detectDiamond%28%29%20%7B%0A%20%20%20%20const%20slice%20%3D%20candles.slice%28-20%29%3B%0A%20%20%20%20const%20range%20%3D%20slice.map%28c%20%3D%3E%20c.high%20-%20c.low%29%3B%0A%20%20%20%20const%20avgRange%20%3D%20range.reduce%28%28a%2C%20b%29%20%3D%3E%20a%20+%20b%2C%200%29%20/%20range.length%3B%0A%20%20%20%20const%20volatility%20%3D%20Math.max%28...range%29%20-%20Math.min%28...range%29%3B%0A%20%20%20%20return%20volatility%20%3C%20avgRange%20*%202%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20slice%5B0%5D.high%20%3E%20slice%5B10%5D.high%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20slice%5B19%5D.high%20%3E%20slice%5B10%5D.high%3B%0A%20%20%7D%0A%7D%29%28%29%3B%0A%3C/script%3E%0A%0A%3C%21--%20%uD83D%uDCE1%20Live%20Bullish%20Exotic%20Pattern%20Detector%20%28ETHUSDT%201m%29%20--%3E%0A%3Cdiv%20id%3D%22patternStatus%22%20style%3D%22color%3A%20lime%3B%20font-family%3A%20monospace%3B%20padding%3A%2010px%3B%22%3E%0A%20%20%u23F3%20Waiting%20for%20Exotic%20Bullish%20Pattern%20on%20ETHUSDT%201m...%0A%3C/div%3E%0A%0A%3Cscript%3E%0A%28%28%29%20%3D%3E%20%7B%0A%20%20const%20status%20%3D%20document.getElementById%28%22patternStatus%22%29%3B%0A%20%20let%20candles%20%3D%20%5B%5D%3B%0A%0A%20%20const%20ws%20%3D%20new%20WebSocket%28%22wss%3A//stream.bybit.com/v5/public/linear%22%29%3B%0A%0A%20%20ws.onopen%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20ws.send%28JSON.stringify%28%7B%0A%20%20%20%20%20%20op%3A%20%22subscribe%22%2C%0A%20%20%20%20%20%20args%3A%20%5B%22kline.1.ETHUSDT%22%5D%20//%20%u2705%20ETHUSDT%201m%20timeframe%0A%20%20%20%20%7D%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20ws.onmessage%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20const%20data%20%3D%20JSON.parse%28event.data%29%3B%0A%20%20%20%20if%20%28%21data%20%7C%7C%20%21data.data%20%7C%7C%20%21data.data.kline%29%20return%3B%0A%20%20%20%20const%20k%20%3D%20data.data.kline%3B%0A%20%20%20%20const%20candle%20%3D%20%7B%0A%20%20%20%20%20%20time%3A%20k.start%2C%0A%20%20%20%20%20%20open%3A%20parseFloat%28k.open%29%2C%0A%20%20%20%20%20%20high%3A%20parseFloat%28k.high%29%2C%0A%20%20%20%20%20%20low%3A%20parseFloat%28k.low%29%2C%0A%20%20%20%20%20%20close%3A%20parseFloat%28k.close%29%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20candles.push%28candle%29%3B%0A%20%20%20%20if%20%28candles.length%20%3E%20100%29%20candles.shift%28%29%3B%0A%0A%20%20%20%20detectPatterns%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20function%20detectPatterns%28%29%20%7B%0A%20%20%20%20const%20last%20%3D%20candles%5Bcandles.length%20-%201%5D%3B%0A%20%20%20%20const%20prev%20%3D%20candles%5Bcandles.length%20-%202%5D%3B%0A%0A%20%20%20%20if%20%28detectSymmetricalTriangle%28%29%29%20%7B%0A%20%20%20%20%20%20alert%28%22%uD83D%uDCE2%20Symmetrical%20Triangle%20Breakout%20-%20Long%20Entry%20on%20ETH%21%22%29%3B%0A%20%20%20%20%20%20status.innerText%20%3D%20%22%u2705%20Symmetrical%20Triangle%20Detected%22%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28detectRectangleBox%28%29%29%20%7B%0A%20%20%20%20%20%20alert%28%22%uD83D%uDCE2%20Rectangle%20Range%20Breakout%20-%20Long%20Entry%20on%20ETH%21%22%29%3B%0A%20%20%20%20%20%20status.innerText%20%3D%20%22%u2705%20Rectangle%20Range%20Detected%22%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28detectConsolidationZone%28%29%29%20%7B%0A%20%20%20%20%20%20alert%28%22%uD83D%uDCE2%20Consolidation%20Breakout%20-%20Long%20Entry%20on%20ETH%21%22%29%3B%0A%20%20%20%20%20%20status.innerText%20%3D%20%22%u2705%20Consolidation%20Breakout%20Detected%22%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28detectVBottom%28%29%29%20%7B%0A%20%20%20%20%20%20alert%28%22%uD83D%uDCE2%20V-Bottom%20Reversal%20-%20Long%20Entry%20on%20ETH%21%22%29%3B%0A%20%20%20%20%20%20status.innerText%20%3D%20%22%u2705%20V-Bottom%20Detected%22%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28detectRailroadTracks%28%29%29%20%7B%0A%20%20%20%20%20%20alert%28%22%uD83D%uDCE2%20Railroad%20Tracks%20-%20Momentum%20Long%20Entry%20on%20ETH%21%22%29%3B%0A%20%20%20%20%20%20status.innerText%20%3D%20%22%u2705%20Railroad%20Tracks%20Detected%22%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20status.innerText%20%3D%20%22%u23F3%20Waiting%20for%20Exotic%20Bullish%20Pattern%20on%20ETHUSDT%201m...%22%3B%0A%20%20%7D%0A%0A%20%20//%20------------------------%20PATTERN%20DETECTORS%20------------------------%0A%0A%20%20function%20detectSymmetricalTriangle%28%29%20%7B%0A%20%20%20%20const%20slice%20%3D%20candles.slice%28-20%29%3B%0A%20%20%20%20if%20%28slice.length%20%3C%2020%29%20return%20false%3B%0A%0A%20%20%20%20const%20highs%20%3D%20slice.map%28c%20%3D%3E%20c.high%29%3B%0A%20%20%20%20const%20lows%20%3D%20slice.map%28c%20%3D%3E%20c.low%29%3B%0A%20%20%20%20const%20highSlope%20%3D%20%28highs%5B19%5D%20-%20highs%5B0%5D%29%20/%2020%3B%0A%20%20%20%20const%20lowSlope%20%3D%20%28lows%5B19%5D%20-%20lows%5B0%5D%29%20/%2020%3B%0A%20%20%20%20const%20converging%20%3D%20highSlope%20%3C%200%20%26%26%20lowSlope%20%3E%200%3B%0A%0A%20%20%20%20const%20breakout%20%3D%20slice%5B19%5D.close%20%3E%20Math.max%28...highs.slice%280%2C%2015%29%29%3B%0A%20%20%20%20return%20converging%20%26%26%20breakout%3B%0A%20%20%7D%0A%0A%20%20function%20detectRectangleBox%28%29%20%7B%0A%20%20%20%20const%20slice%20%3D%20candles.slice%28-25%29%3B%0A%20%20%20%20if%20%28slice.length%20%3C%2025%29%20return%20false%3B%0A%0A%20%20%20%20const%20highs%20%3D%20slice.map%28c%20%3D%3E%20c.high%29%3B%0A%20%20%20%20const%20lows%20%3D%20slice.map%28c%20%3D%3E%20c.low%29%3B%0A%20%20%20%20const%20rangeHigh%20%3D%20Math.max%28...highs.slice%280%2C%2020%29%29%3B%0A%20%20%20%20const%20rangeLow%20%3D%20Math.min%28...lows.slice%280%2C%2020%29%29%3B%0A%20%20%20%20const%20tightRange%20%3D%20%28rangeHigh%20-%20rangeLow%29%20%3C%20%280.01%20*%20rangeLow%29%3B%20//%201%25%20range%0A%0A%20%20%20%20const%20breakout%20%3D%20slice%5B24%5D.close%20%3E%20rangeHigh%3B%0A%20%20%20%20return%20tightRange%20%26%26%20breakout%3B%0A%20%20%7D%0A%0A%20%20function%20detectConsolidationZone%28%29%20%7B%0A%20%20%20%20const%20closes%20%3D%20candles.slice%28-15%29.map%28c%20%3D%3E%20c.close%29%3B%0A%20%20%20%20const%20avg%20%3D%20closes.reduce%28%28a%2C%20b%29%20%3D%3E%20a%20+%20b%2C%200%29%20/%20closes.length%3B%0A%20%20%20%20const%20deviation%20%3D%20Math.max%28...closes.map%28c%20%3D%3E%20Math.abs%28c%20-%20avg%29%29%29%3B%0A%20%20%20%20return%20deviation%20/%20avg%20%3C%200.005%20%26%26%20candles%5Bcandles.length%20-%201%5D.close%20%3E%20closes%5Bcloses.length%20-%202%5D%3B%0A%20%20%7D%0A%0A%20%20function%20detectVBottom%28%29%20%7B%0A%20%20%20%20const%20slice%20%3D%20candles.slice%28-9%29%3B%0A%20%20%20%20if%20%28slice.length%20%3C%209%29%20return%20false%3B%0A%0A%20%20%20%20const%20left%20%3D%20slice.slice%280%2C%204%29.map%28c%20%3D%3E%20c.close%29%3B%0A%20%20%20%20const%20right%20%3D%20slice.slice%285%29.map%28c%20%3D%3E%20c.close%29%3B%0A%0A%20%20%20%20const%20sharpDown%20%3D%20left%5B0%5D%20%3E%20left%5B3%5D%3B%0A%20%20%20%20const%20sharpUp%20%3D%20right%5B0%5D%20%3C%20right%5B3%5D%3B%0A%20%20%20%20return%20sharpDown%20%26%26%20sharpUp%3B%0A%20%20%7D%0A%0A%20%20function%20detectRailroadTracks%28%29%20%7B%0A%20%20%20%20const%20c1%20%3D%20candles%5Bcandles.length%20-%203%5D%3B%0A%20%20%20%20const%20c2%20%3D%20candles%5Bcandles.length%20-%202%5D%3B%0A%20%20%20%20const%20c3%20%3D%20candles%5Bcandles.length%20-%201%5D%3B%0A%20%20%20%20if%20%28%21c1%20%7C%7C%20%21c2%20%7C%7C%20%21c3%29%20return%20false%3B%0A%0A%20%20%20%20const%20strongRed%20%3D%20c2.open%20%3E%20c2.close%20%26%26%20Math.abs%28c2.open%20-%20c2.close%29%20%3E%200.5%20*%20%28c2.high%20-%20c2.low%29%3B%0A%20%20%20%20const%20strongGreen%20%3D%20c3.close%20%3E%20c3.open%20%26%26%20Math.abs%28c3.close%20-%20c3.open%29%20%3E%200.5%20*%20%28c3.high%20-%20c3.low%29%3B%0A%20%20%20%20const%20similarSize%20%3D%20Math.abs%28%28c2.open%20-%20c2.close%29%20-%20%28c3.close%20-%20c3.open%29%29%20%3C%200.1%20*%20c3.close%3B%0A%0A%20%20%20%20return%20strongRed%20%26%26%20strongGreen%20%26%26%20similarSize%20%26%26%20c3.close%20%3E%20c2.open%3B%0A%20%20%7D%0A%0A%7D%29%28%29%3B%0A%3C/script%3E'));
</script>

